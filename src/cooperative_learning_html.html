<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Leandro Kovalevski">

<title>Cooperative Learning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="cooperative_learning_html_files/libs/clipboard/clipboard.min.js"></script>
<script src="cooperative_learning_html_files/libs/quarto-html/quarto.js"></script>
<script src="cooperative_learning_html_files/libs/quarto-html/popper.min.js"></script>
<script src="cooperative_learning_html_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="cooperative_learning_html_files/libs/quarto-html/anchor.min.js"></script>
<link href="cooperative_learning_html_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="cooperative_learning_html_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="cooperative_learning_html_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="cooperative_learning_html_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="cooperative_learning_html_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="cooperative_learning_html_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="cooperative_learning_html_files/libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#executive-summary" id="toc-executive-summary" class="nav-link active" data-scroll-target="#executive-summary">Executive summary</a></li>
  <li><a href="#settings" id="toc-settings" class="nav-link" data-scroll-target="#settings">Settings</a></li>
  <li><a href="#dataset-description" id="toc-dataset-description" class="nav-link" data-scroll-target="#dataset-description">1. Dataset description</a></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">2. Exploratory Data Analysis</a>
  <ul class="collapse">
  <li><a href="#general-descriptive-analysis" id="toc-general-descriptive-analysis" class="nav-link" data-scroll-target="#general-descriptive-analysis">2.1. General descriptive analysis</a></li>
  <li><a href="#response-descriptive-analysis" id="toc-response-descriptive-analysis" class="nav-link" data-scroll-target="#response-descriptive-analysis">2.2. Response descriptive analysis</a></li>
  <li><a href="#descriptive-analysis-of-categorical-predictors" id="toc-descriptive-analysis-of-categorical-predictors" class="nav-link" data-scroll-target="#descriptive-analysis-of-categorical-predictors">2.3. Descriptive analysis of categorical predictors</a></li>
  <li><a href="#descriptive-analysis-of-quantitative-predictors" id="toc-descriptive-analysis-of-quantitative-predictors" class="nav-link" data-scroll-target="#descriptive-analysis-of-quantitative-predictors">2.4. Descriptive analysis of quantitative predictors</a></li>
  <li><a href="#matrix-correlation-of-quantitative-predictors" id="toc-matrix-correlation-of-quantitative-predictors" class="nav-link" data-scroll-target="#matrix-correlation-of-quantitative-predictors">2.5. Matrix correlation of quantitative predictors</a></li>
  </ul></li>
  <li><a href="#model-training" id="toc-model-training" class="nav-link" data-scroll-target="#model-training">3. Model Training</a>
  <ul class="collapse">
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">3.1. Data preparation</a></li>
  <li><a href="#stepwise-logistic-regression" id="toc-stepwise-logistic-regression" class="nav-link" data-scroll-target="#stepwise-logistic-regression">3.2. Stepwise Logistic Regression</a></li>
  <li><a href="#random-forest" id="toc-random-forest" class="nav-link" data-scroll-target="#random-forest">3.3. Random Forest</a></li>
  <li><a href="#cooperative-learning-models" id="toc-cooperative-learning-models" class="nav-link" data-scroll-target="#cooperative-learning-models">3.4. Cooperative Learning Models</a></li>
  </ul></li>
  <li><a href="#models-comparison" id="toc-models-comparison" class="nav-link" data-scroll-target="#models-comparison">4. Models Comparison</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Cooperative Learning</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Leandro Kovalevski </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="executive-summary" class="level1 unnumbered">
<h1 class="unnumbered">Executive summary</h1>
<ul>
<li>A database of a random sample of 23,857 tax identification numbers (CUITs) is analyzed. Past financial behavior is used to predict default. The percent of default in the dataset is 9.6%.</li>
<li>Variable distributions and associations with the response are summarized.</li>
<li>There is a clear (marginal) association between default and some variables (‘col_3’, ‘col_2’, ‘col_6’, ‘col_8’, ‘col_17’, ‘col_20’, ‘col_21’, ‘col_22’, ‘col_2’ and ‘col_26’) )</li>
<li>The dataset was divided in training and testing sets in a 70-30 ratio.</li>
<li>The Cooperative Learning model performance was compared with a Stepwise Logistic Regression model performance and a Random Forest model performance according to RMSE, AUC, and Lift 5%. Also a Accuracy, Recall, Precision and F1 Score were calculate for all models using the proportion of events in the training set as the probability threshold</li>
<li>Different Cooperative Learning models were fitted varying the penalty parameter <span class="math inline">\(\rho\)</span>.</li>
<li>The best performance of Cooperative Learning models was using a value of <span class="math inline">\(\rho\)</span> equal to 0.7, but Stepwise Logistic Regression outperformed all models on RMSE, AUC, and Lift 5%.</li>
</ul>
</section>
<section id="settings" class="level1 unnumbered">
<h1 class="unnumbered">Settings</h1>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Load data and needed packages.</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' Install (if needed)  'here' package to use relative paths. </span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span>(<span class="st">"here"</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[, <span class="st">"Package"</span>])){ </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"here"</span>) </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' Load generic functions ----</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"src"</span>, <span class="st">"utils.R"</span>), <span class="at">encoding =</span> <span class="st">"UTF-8"</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">#' Cargar las librerías necesarias</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">loadPackages</span>(<span class="fu">c</span>(</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Data Preparation</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"here"</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"dplyr"</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Stats &amp; Metrics</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"pROC"</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"Metrics"</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">"gains"</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"ROCR"</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"skimr"</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"scales"</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"doBy"</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"moments"</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Machine Learning</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"randomForest"</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"multiview"</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Visualization</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"ggplot2"</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"corrplot"</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"knitr"</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"broom"</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="co">#' Set data path</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>file_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"ready"</span>)</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="co">#' Set models path</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>models_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"results"</span>, <span class="st">"models"</span>)</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="co">#' Set data file names</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>( <span class="sc">!</span><span class="fu">exists</span>(<span class="st">"file_name"</span>) ){</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>  file_name <span class="ot">&lt;-</span> <span class="st">"df_bcra.rds"</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a><span class="co">#' Data group (or views) name</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>group_file_name <span class="ot">&lt;-</span> <span class="st">"groups.csv"</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a><span class="co">#' Read dataset</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">file.path</span>(file_path, file_name))</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="co">#' Read dataset</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>groups <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="fu">file.path</span>(file_path, group_file_name))</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="co">#' Define the response</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="st">"response"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="dataset-description" class="level1 unnumbered">
<h1 class="unnumbered">1. Dataset description</h1>
<p>The database consists of a random sample of 23,857 tax identification numbers (CUITs) belonging to individuals who had at least one debt in the Argentine financial system in June 2019, and were in credit situation 1 or 2 (meaning they did not have overdue payments exceeding 90 days), obtained from the debtor database provided by the Central Bank of the Argentine Republic (BCRA) for the period of June 2019. For the tax identification numbers in the random sample, debts in all entities were recorded and summarized for June 2019, as well as for the previous 6 months. Debts of these tax identification numbers between July 2019 and June 2020 were also recorded to assess their evolution. The response variable is a binary variable constructed from the most severe credit situation of the tax identification number (CUIT) between the periods of July 2019 and June 2020. The variable takes the value 1 if the most severe credit situation is greater than or equal to 3 in any debt any period, and 0 otherwise. In the dataset ‘df_bcra.rds’, the information recorded with 28 variables is available. The data is anonymized and variable names are not displayed.</p>
</section>
<section id="exploratory-data-analysis" class="level1 unnumbered">
<h1 class="unnumbered">2. Exploratory Data Analysis</h1>
<section id="general-descriptive-analysis" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="general-descriptive-analysis">2.1. General descriptive analysis</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">df</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">23857</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">28</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 19%">
<col style="width: 13%">
<col style="width: 19%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">col_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 11%">
<col style="width: 15%">
<col style="width: 8%">
<col style="width: 10%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">col_6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">1: 22744, 2: 1113, 3: 0, 4: 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_8</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 22582, 1: 1275</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_17</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">1: 20544, 2: 2281, 3: 434, 5: 331</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_18</td>
<td style="text-align: right;">22369</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">1: 1397, 2: 82, 3: 6, 4: 2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_19</td>
<td style="text-align: right;">224</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">1: 20382, 2: 2225, 3: 430, 5: 331</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 14%">
<col style="width: 10%">
<col style="width: 14%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">col_2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.72</td>
<td style="text-align: right;">1.06</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2.00</td>
<td style="text-align: right;">10.00</td>
<td style="text-align: left;">▇▂▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">239.83</td>
<td style="text-align: right;">167.09</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">130.00</td>
<td style="text-align: right;">228.00</td>
<td style="text-align: right;">308.00</td>
<td style="text-align: right;">959.00</td>
<td style="text-align: left;">▆▇▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">126.25</td>
<td style="text-align: right;">4589.79</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11.00</td>
<td style="text-align: right;">31.00</td>
<td style="text-align: right;">83.00</td>
<td style="text-align: right;">707012.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">29.42</td>
<td style="text-align: right;">299.40</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">15335.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.18</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_9</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.21</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6.47</td>
<td style="text-align: right;">1.15</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6.00</td>
<td style="text-align: right;">7.00</td>
<td style="text-align: right;">7.00</td>
<td style="text-align: right;">7.00</td>
<td style="text-align: left;">▁▁▁▁▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_11</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">107.60</td>
<td style="text-align: right;">2311.59</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">13.00</td>
<td style="text-align: right;">32.14</td>
<td style="text-align: right;">81.29</td>
<td style="text-align: right;">353507.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_12</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">105.07</td>
<td style="text-align: right;">2309.24</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">12.33</td>
<td style="text-align: right;">31.29</td>
<td style="text-align: right;">79.43</td>
<td style="text-align: right;">353507.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_13</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.96</td>
<td style="text-align: right;">69.89</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">10609.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_14</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21.99</td>
<td style="text-align: right;">241.68</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">13519.71</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">85.60</td>
<td style="text-align: right;">2296.18</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">12.00</td>
<td style="text-align: right;">29.71</td>
<td style="text-align: right;">72.43</td>
<td style="text-align: right;">353507.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_16</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.56</td>
<td style="text-align: right;">17.78</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2532.14</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_20</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.97</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▁▁▁▁▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_21</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.86</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_23</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_24</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.21</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_25</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_26</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.86</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">response</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.29</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">id</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11929.00</td>
<td style="text-align: right;">6887.07</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5965.00</td>
<td style="text-align: right;">11929.00</td>
<td style="text-align: right;">17893.00</td>
<td style="text-align: right;">23857.00</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="response-descriptive-analysis" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="response-descriptive-analysis">2.2. Response descriptive analysis</h2>
<p>To analyze the default, we use the variable: <strong>‘response’</strong>, which take the following values: </p>
<ul>
<li><strong>0</strong>: if the most severe credit situation is always less than 3 (always the payment delay is less than 90 days). </li>
<li><strong>1</strong>: if the most severe credit situation is greater than or equal to 3 in any debt any period. </li>
</ul>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste0</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">### Response variabe: **"</span>, response, <span class="st">"**.</span><span class="sc">\n</span><span class="st">"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<section id="response-variabe-response." class="level3" data-number="0.0.1">
<h3 data-number="0.0.1" class="anchored" data-anchor-id="response-variabe-response."><span class="header-section-number">0.0.1</span> Response variabe: <strong>response</strong>.</h3>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">describeCategorical</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data         =</span> df,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">var          =</span> response,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">bar_color    =</span> <span class="st">"#fff159"</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">sec          =</span> <span class="st">"2.2"</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<p>Analyzing the most frequent values of ‘response’ reveals that 21569 (90.4%) of records have ‘response’ equal to ‘<em>0</em>’, while 9.6% have ‘response’ equal to ‘<em>1</em>’ (Table 2.2.1).</p>
</section>
<section id="table-2.2.1.-count-and-percentage-of-records-by-response." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.2.1.-count-and-percentage-of-records-by-response.">Table 2.2.1. Count and percentage of records by ‘response’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">response</th>
<th style="text-align: right;">Count records</th>
<th style="text-align: right;">Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0</td>
<td style="text-align: right;">21569</td>
<td style="text-align: right;">90.4%</td>
</tr>
<tr class="even">
<td style="text-align: left;">1</td>
<td style="text-align: right;">2288</td>
<td style="text-align: right;">9.6%</td>
</tr>
</tbody>
</table>
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</section>
<section id="figure-2.2.1.-percentage-of-records-by-response." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.2.1.-percentage-of-records-by-response.">Figure 2.2.1. Percentage of records by response.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
</section>
<section id="descriptive-analysis-of-categorical-predictors" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="descriptive-analysis-of-categorical-predictors">2.3. Descriptive analysis of categorical predictors</h2>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Identify categorical and quantitavie variables</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>nvars <span class="ot">&lt;-</span> <span class="fu">names</span>(df)[(<span class="fu">sapply</span>(<span class="at">X =</span> df, <span class="at">FUN =</span> class)) <span class="sc">%in%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="st">"integer"</span>, <span class="st">"numeric"</span>, <span class="st">"double"</span>) ]</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>cvars <span class="ot">&lt;-</span> <span class="fu">names</span>(df)[(<span class="fu">sapply</span>(<span class="at">X =</span> df, <span class="at">FUN =</span> class)) <span class="sc">%in%</span> </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="st">"character"</span>, <span class="st">"factor"</span>, <span class="st">"logical"</span>, <span class="st">"text"</span>) ]</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">#' Delete unuseful variables</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>vars_to_exclude <span class="ot">&lt;-</span> <span class="fu">c</span>( response, <span class="st">"id"</span> )</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>nvars              <span class="ot">&lt;-</span> nvars[<span class="sc">!</span>nvars <span class="sc">%in%</span> vars_to_exclude]</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (var <span class="cf">in</span> cvars){</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">describeCategoricalAndBinary</span>(</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">data    =</span> df, </span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">var     =</span> var, </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">binary  =</span> response,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">ti      =</span> <span class="fu">which</span>(cvars <span class="sc">==</span> var), </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">gi      =</span> <span class="fu">which</span>(cvars <span class="sc">==</span> var),</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec     =</span> <span class="st">"2.3"</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<section id="variable-col_1." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_1.">Variable: <strong>col_1</strong>.</h3>
<p>Analyzing the most frequent values of ‘col_1’ reveals that 10774 (45.2%) of records have ‘col_1’ equal to ‘<em>20</em>’, while 45.0% have ‘col_1’ equal to ‘<em>27</em>’, and 9.4% have ‘col_1’ equal to ‘<em>23</em>’ (Table 2.3.1).</p>
<p><strong>The highest percentage of ‘response’ is for ‘<em>20</em>’ with: 9.7%</strong>. The next highest percentage is for: ‘<em>27</em>’, with: 9.6% (Table 2.3.1).</p>
</section>
<section id="table-2.3.1.-count-and-percentage-of-rds-and-proportion-of-events-for-response-by-col_1." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.3.1.-count-and-percentage-of-rds-and-proportion-of-events-for-response-by-col_1.">Table 2.3.1. Count (and percentage) of rds and proportion of events for ‘response’ by ‘col_1’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_1</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">20</td>
<td style="text-align: right;">10774 (45.2%)</td>
<td style="text-align: right;">0.097</td>
</tr>
<tr class="even">
<td style="text-align: left;">23</td>
<td style="text-align: right;">2234 (9.4%)</td>
<td style="text-align: right;">0.093</td>
</tr>
<tr class="odd">
<td style="text-align: left;">24</td>
<td style="text-align: right;">116 (0.5%)</td>
<td style="text-align: right;">0.034</td>
</tr>
<tr class="even">
<td style="text-align: left;">27</td>
<td style="text-align: right;">10733 (45.0%)</td>
<td style="text-align: right;">0.096</td>
</tr>
</tbody>
</table>
<pre><code>Warning: The `size` argument of `element_line()` is deprecated as of ggplot2 3.4.0.
ℹ Please use the `linewidth` argument instead.</code></pre>
</section>
<section id="figure-2.3.1.-percentage-of-rds-by-col_1." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.3.1.-percentage-of-rds-by-col_1.">Figure 2.3.1. Percentage of rds by col_1.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_6." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_6.">Variable: <strong>col_6</strong>.</h3>
<p>Analyzing the most frequent values of ‘col_6’ reveals that 22744 (95.3%) of records have ‘col_6’ equal to ‘<em>1</em>’, while 4.7% have ‘col_6’ equal to ‘<em>2</em>’ (Table 2.3.2).</p>
<p><strong>The highest percentage of ‘response’ is for ‘<em>2</em>’ with: 59.7%</strong>. The next highest percentage is for: ‘<em>1</em>’, with: 7.1% (Table 2.3.2).</p>
</section>
<section id="table-2.3.2.-count-and-percentage-of-rds-and-proportion-of-events-for-response-by-col_6." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.3.2.-count-and-percentage-of-rds-and-proportion-of-events-for-response-by-col_6.">Table 2.3.2. Count (and percentage) of rds and proportion of events for ‘response’ by ‘col_6’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_6</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">22744 (95.3%)</td>
<td style="text-align: right;">0.071</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">1113 (4.7%)</td>
<td style="text-align: right;">0.597</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.3.2.-percentage-of-rds-by-col_6." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.3.2.-percentage-of-rds-by-col_6.">Figure 2.3.2. Percentage of rds by col_6.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_8." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_8.">Variable: <strong>col_8</strong>.</h3>
<p>Analyzing the most frequent values of ‘col_8’ reveals that 22582 (94.7%) of records have ‘col_8’ equal to ‘<em>0</em>’, while 5.3% have ‘col_8’ equal to ‘<em>1</em>’ (Table 2.3.3).</p>
<p><strong>The highest percentage of ‘response’ is for ‘<em>0</em>’ with: 9.8%</strong>. The next highest percentage is for: ‘<em>1</em>’, with: 6.7% (Table 2.3.3).</p>
</section>
<section id="table-2.3.3.-count-and-percentage-of-rds-and-proportion-of-events-for-response-by-col_8." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.3.3.-count-and-percentage-of-rds-and-proportion-of-events-for-response-by-col_8.">Table 2.3.3. Count (and percentage) of rds and proportion of events for ‘response’ by ‘col_8’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_8</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0</td>
<td style="text-align: right;">22582 (94.7%)</td>
<td style="text-align: right;">0.098</td>
</tr>
<tr class="even">
<td style="text-align: left;">1</td>
<td style="text-align: right;">1275 (5.3%)</td>
<td style="text-align: right;">0.067</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.3.3.-percentage-of-rds-by-col_8." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.3.3.-percentage-of-rds-by-col_8.">Figure 2.3.3. Percentage of rds by col_8.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-4-3.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_17." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_17.">Variable: <strong>col_17</strong>.</h3>
<p>Analyzing the most frequent values of ‘col_17’ reveals that 20544 (86.1%) of records have ‘col_17’ equal to ‘<em>1</em>’, while 9.6% have ‘col_17’ equal to ‘<em>2</em>’, and 1.8% have ‘col_17’ equal to ‘<em>3</em>’ (Table 2.3.4).</p>
<p><strong>The highest percentage of ‘response’ is for ‘<em>5</em>’ with: 48.0%</strong>. The next highest percentage is for: ‘<em>3</em>’, with: 39.9% (Table 2.3.4).</p>
</section>
<section id="table-2.3.4.-count-and-percentage-of-rds-and-proportion-of-events-for-response-by-col_17." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.3.4.-count-and-percentage-of-rds-and-proportion-of-events-for-response-by-col_17.">Table 2.3.4. Count (and percentage) of rds and proportion of events for ‘response’ by ‘col_17’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_17</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">20544 (86.1%)</td>
<td style="text-align: right;">0.049</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">2281 (9.6%)</td>
<td style="text-align: right;">0.373</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">434 (1.8%)</td>
<td style="text-align: right;">0.399</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">267 (1.1%)</td>
<td style="text-align: right;">0.382</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: right;">331 (1.4%)</td>
<td style="text-align: right;">0.480</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.3.4.-percentage-of-rds-by-col_17." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.3.4.-percentage-of-rds-by-col_17.">Figure 2.3.4. Percentage of rds by col_17.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-4-4.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_18." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_18.">Variable: <strong>col_18</strong>.</h3>
<p>Analyzing the most frequent values of ‘col_18’ reveals that 22369 (93.8%) of records have ‘col_18’ equal to ‘<em>NA</em>’, while 5.9% have ‘col_18’ equal to ‘<em>1</em>’, and 0.3% have ‘col_18’ equal to ‘<em>2</em>’ (Table 2.3.5).</p>
<p><strong>The highest percentage of ‘response’ is for ‘<em>2</em>’ with: 34.1%</strong>. The next highest percentage is for: ‘<em>3</em>’, with: 16.7% (Table 2.3.5).</p>
</section>
<section id="table-2.3.5.-count-and-percentage-of-rds-and-proportion-of-events-for-response-by-col_18." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.3.5.-count-and-percentage-of-rds-and-proportion-of-events-for-response-by-col_18.">Table 2.3.5. Count (and percentage) of rds and proportion of events for ‘response’ by ‘col_18’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_18</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">1397 (5.9%)</td>
<td style="text-align: right;">0.047</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">82 (0.3%)</td>
<td style="text-align: right;">0.341</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">6 (0.0%)</td>
<td style="text-align: right;">0.167</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">2 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">22369 (93.8%)</td>
<td style="text-align: right;">0.098</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.3.5.-percentage-of-rds-by-col_18." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.3.5.-percentage-of-rds-by-col_18.">Figure 2.3.5. Percentage of rds by col_18.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-4-5.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_19." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_19.">Variable: <strong>col_19</strong>.</h3>
<p>Analyzing the most frequent values of ‘col_19’ reveals that 20382 (85.4%) of records have ‘col_19’ equal to ‘<em>1</em>’, while 9.3% have ‘col_19’ equal to ‘<em>2</em>’, and 1.8% have ‘col_19’ equal to ‘<em>3</em>’ (Table 2.3.6).</p>
<p><strong>The highest percentage of ‘response’ is for ‘<em>5</em>’ with: 48.0%</strong>. The next highest percentage is for: ‘<em>3</em>’, with: 40.2% (Table 2.3.6).</p>
</section>
<section id="table-2.3.6.-count-and-percentage-of-rds-and-proportion-of-events-for-response-by-col_19." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.3.6.-count-and-percentage-of-rds-and-proportion-of-events-for-response-by-col_19.">Table 2.3.6. Count (and percentage) of rds and proportion of events for ‘response’ by ‘col_19’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_19</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">20382 (85.4%)</td>
<td style="text-align: right;">0.050</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">2225 (9.3%)</td>
<td style="text-align: right;">0.377</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">430 (1.8%)</td>
<td style="text-align: right;">0.402</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">265 (1.1%)</td>
<td style="text-align: right;">0.385</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: right;">331 (1.4%)</td>
<td style="text-align: right;">0.480</td>
</tr>
<tr class="even">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">224 (0.9%)</td>
<td style="text-align: right;">0.027</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.3.6.-percentage-of-rds-by-col_19." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.3.6.-percentage-of-rds-by-col_19.">Figure 2.3.6. Percentage of rds by col_19.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-4-6.png" class="img-fluid" width="672"></p>
</section>
</section>
<section id="descriptive-analysis-of-quantitative-predictors" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="descriptive-analysis-of-quantitative-predictors">2.4. Descriptive analysis of quantitative predictors</h2>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (var <span class="cf">in</span> nvars){</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">describeNumericAndBinaryResponse</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">data   =</span> df, </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">var    =</span> var, </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">binary =</span> response,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">ti     =</span> <span class="fu">which</span>(nvars <span class="sc">==</span> var), </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">gi     =</span> <span class="fu">which</span>(nvars <span class="sc">==</span> var),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec    =</span> <span class="st">"2.4"</span> </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<section id="variable-col_2." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_2.">Variable: <strong>col_2</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_2’: ‘<em>9.45 - 10.35</em>’, with: 57.1%</strong>. The next highest percentage is in the interval: ‘<em>7.65 - 8.55</em>’, with: 31.6% (Table 2.4.1).</p>
</section>
<section id="table-2.4.1.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_2." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.1.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_2.">Table 2.4.1. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_2’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_2</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0.45 - 1.35</td>
<td style="text-align: right;">13476 (56.5%)</td>
<td style="text-align: right;">0.074</td>
</tr>
<tr class="even">
<td style="text-align: left;">1.35 - 2.25</td>
<td style="text-align: right;">6178 (25.9%)</td>
<td style="text-align: right;">0.105</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2.25 - 3.15</td>
<td style="text-align: right;">2619 (11.0%)</td>
<td style="text-align: right;">0.132</td>
</tr>
<tr class="even">
<td style="text-align: left;">3.15 - 4.05</td>
<td style="text-align: right;">980 (4.1%)</td>
<td style="text-align: right;">0.168</td>
</tr>
<tr class="odd">
<td style="text-align: left;">4.05 - 4.95</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">4.95 - 5.85</td>
<td style="text-align: right;">377 (1.6%)</td>
<td style="text-align: right;">0.212</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5.85 - 6.75</td>
<td style="text-align: right;">131 (0.5%)</td>
<td style="text-align: right;">0.206</td>
</tr>
<tr class="even">
<td style="text-align: left;">6.75 - 7.65</td>
<td style="text-align: right;">59 (0.2%)</td>
<td style="text-align: right;">0.220</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7.65 - 8.55</td>
<td style="text-align: right;">19 (0.1%)</td>
<td style="text-align: right;">0.316</td>
</tr>
<tr class="even">
<td style="text-align: left;">8.55 - 9.45</td>
<td style="text-align: right;">11 (0.0%)</td>
<td style="text-align: right;">0.273</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9.45 - 10.35</td>
<td style="text-align: right;">7 (0.0%)</td>
<td style="text-align: right;">0.571</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.1.-percentage-of-response-according-to-col_2-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.1.-percentage-of-response-according-to-col_2-intervals.">Figure 2.4.1. Percentage of ‘response’ according to ‘col_2’ intervals.</h3>
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_3." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_3.">Variable: <strong>col_3</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_3’: ‘<em>431.55 - 527.45</em>’, with: 21.7%</strong>. The next highest percentage is in the interval: ‘<em>335.65 - 431.55</em>’, with: 13.6% (Table 2.4.2).</p>
</section>
<section id="table-2.4.2.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_3." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.2.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_3.">Table 2.4.2. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_3’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_3</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-47.95 - 47.95</td>
<td style="text-align: right;">969 (4.1%)</td>
<td style="text-align: right;">0.050</td>
</tr>
<tr class="even">
<td style="text-align: left;">47.95 - 143.85</td>
<td style="text-align: right;">6087 (25.5%)</td>
<td style="text-align: right;">0.072</td>
</tr>
<tr class="odd">
<td style="text-align: left;">143.85 - 239.75</td>
<td style="text-align: right;">5770 (24.2%)</td>
<td style="text-align: right;">0.091</td>
</tr>
<tr class="even">
<td style="text-align: left;">239.75 - 335.65</td>
<td style="text-align: right;">7012 (29.4%)</td>
<td style="text-align: right;">0.105</td>
</tr>
<tr class="odd">
<td style="text-align: left;">335.65 - 431.55</td>
<td style="text-align: right;">3155 (13.2%)</td>
<td style="text-align: right;">0.136</td>
</tr>
<tr class="even">
<td style="text-align: left;">431.55 - 527.45</td>
<td style="text-align: right;">23 (0.1%)</td>
<td style="text-align: right;">0.217</td>
</tr>
<tr class="odd">
<td style="text-align: left;">527.45 - 623.35</td>
<td style="text-align: right;">2 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">623.35 - 719.25</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">719.25 - 815.15</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">815.15 - 911.05</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">911.05 - 1006.95</td>
<td style="text-align: right;">838 (3.5%)</td>
<td style="text-align: right;">0.125</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.2.-percentage-of-response-according-to-col_3-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.2.-percentage-of-response-according-to-col_3-intervals.">Figure 2.4.2. Percentage of ‘response’ according to ‘col_3’ intervals.</h3>
<pre><code>Warning: Removed 2 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_4." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_4.">Variable: <strong>col_4</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_4’: ‘<em>671660.45 - 742361.55</em>’, with: 100.0%</strong>. The next highest percentage is in the interval: ‘<em>-35350.55 - 35350.55</em>’, with: 9.6% (Table 2.4.3).</p>
</section>
<section id="table-2.4.3.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_4." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.3.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_4.">Table 2.4.3. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_4’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_4</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-35350.55 - 35350.55</td>
<td style="text-align: right;">23856 (100.0%)</td>
<td style="text-align: right;">0.096</td>
</tr>
<tr class="even">
<td style="text-align: left;">35350.55 - 106051.65</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">106051.65 - 176752.75</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">176752.75 - 247453.85</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">247453.85 - 318154.95</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">318154.95 - 388856.05</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">388856.05 - 459557.15</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">459557.15 - 530258.25</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">530258.25 - 600959.35</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">600959.35 - 671660.45</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">671660.45 - 742361.55</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">1.000</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.3.-percentage-of-response-according-to-col_4-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.3.-percentage-of-response-according-to-col_4-intervals.">Figure 2.4.3. Percentage of ‘response’ according to ‘col_4’ intervals.</h3>
<pre><code>Warning: Removed 9 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-3.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_5." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_5.">Variable: <strong>col_5</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_5’: ‘<em>14568.25 - 16101.75</em>’, with: 100.0%</strong>. The next highest percentage is in the interval: ‘<em>-766.75 - 766.75</em>’, with: 9.6% (Table 2.4.4).</p>
</section>
<section id="table-2.4.4.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_5." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.4.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_5.">Table 2.4.4. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_5’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_5</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-766.75 - 766.75</td>
<td style="text-align: right;">23633 (99.1%)</td>
<td style="text-align: right;">0.096</td>
</tr>
<tr class="even">
<td style="text-align: left;">766.75 - 2300.25</td>
<td style="text-align: right;">143 (0.6%)</td>
<td style="text-align: right;">0.035</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2300.25 - 3833.75</td>
<td style="text-align: right;">44 (0.2%)</td>
<td style="text-align: right;">0.068</td>
</tr>
<tr class="even">
<td style="text-align: left;">3833.75 - 5367.25</td>
<td style="text-align: right;">25 (0.1%)</td>
<td style="text-align: right;">0.040</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5367.25 - 6900.75</td>
<td style="text-align: right;">3 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">6900.75 - 8434.25</td>
<td style="text-align: right;">5 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">8434.25 - 9967.75</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">9967.75 - 11501.25</td>
<td style="text-align: right;">2 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">11501.25 - 13034.75</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">13034.75 - 14568.25</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">14568.25 - 16101.75</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">1.000</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.4.-percentage-of-response-according-to-col_5-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.4.-percentage-of-response-according-to-col_5-intervals.">Figure 2.4.4. Percentage of ‘response’ according to ‘col_5’ intervals.</h3>
<pre><code>Warning: Removed 2 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-4.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_7." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_7.">Variable: <strong>col_7</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_7’: ‘<em>0.05 - 0.15</em>’, with: 15.2%</strong>. The next highest percentage is in the interval: ‘<em>0.25 - 0.35</em>’, with: 14.0% (Table 2.4.5).</p>
</section>
<section id="table-2.4.5.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_7." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.5.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_7.">Table 2.4.5. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_7’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_7</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-0.05 - 0.05</td>
<td style="text-align: right;">22593 (94.7%)</td>
<td style="text-align: right;">0.098</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.05 - 0.15</td>
<td style="text-align: right;">46 (0.2%)</td>
<td style="text-align: right;">0.152</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.15 - 0.25</td>
<td style="text-align: right;">53 (0.2%)</td>
<td style="text-align: right;">0.132</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.25 - 0.35</td>
<td style="text-align: right;">43 (0.2%)</td>
<td style="text-align: right;">0.140</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.35 - 0.45</td>
<td style="text-align: right;">66 (0.3%)</td>
<td style="text-align: right;">0.106</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.45 - 0.55</td>
<td style="text-align: right;">63 (0.3%)</td>
<td style="text-align: right;">0.016</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.55 - 0.65</td>
<td style="text-align: right;">70 (0.3%)</td>
<td style="text-align: right;">0.057</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.65 - 0.75</td>
<td style="text-align: right;">105 (0.4%)</td>
<td style="text-align: right;">0.104</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.75 - 0.85</td>
<td style="text-align: right;">95 (0.4%)</td>
<td style="text-align: right;">0.074</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.85 - 0.95</td>
<td style="text-align: right;">177 (0.7%)</td>
<td style="text-align: right;">0.056</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.95 - 1.05</td>
<td style="text-align: right;">546 (2.3%)</td>
<td style="text-align: right;">0.046</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.5.-percentage-of-response-according-to-col_7-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.5.-percentage-of-response-according-to-col_7-intervals.">Figure 2.4.5. Percentage of ‘response’ according to ‘col_7’ intervals.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-5.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_9." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_9.">Variable: <strong>col_9</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_9’: ‘<em>0.95 - 1.05</em>’, with: 59.7%</strong>. The next highest percentage is in the interval: ‘<em>-0.05 - 0.05</em>’, with: 7.1% (Table 2.4.6).</p>
</section>
<section id="table-2.4.6.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_9." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.6.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_9.">Table 2.4.6. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_9’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_9</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-0.05 - 0.05</td>
<td style="text-align: right;">22744 (95.3%)</td>
<td style="text-align: right;">0.071</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.05 - 0.15</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.15 - 0.25</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.25 - 0.35</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.35 - 0.45</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.45 - 0.55</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.55 - 0.65</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.65 - 0.75</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.75 - 0.85</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.85 - 0.95</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.95 - 1.05</td>
<td style="text-align: right;">1113 (4.7%)</td>
<td style="text-align: right;">0.597</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.6.-percentage-of-response-according-to-col_9-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.6.-percentage-of-response-according-to-col_9-intervals.">Figure 2.4.6. Percentage of ‘response’ according to ‘col_9’ intervals.</h3>
<pre><code>Warning: Removed 9 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-6.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_10." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_10.">Variable: <strong>col_10</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_10’: ‘<em>2.7 - 3.3</em>’, with: 15.3%</strong>. The next highest percentage is in the interval: ‘<em>0.9 - 1.5</em>’, with: 11.8% (Table 2.4.7).</p>
</section>
<section id="table-2.4.7.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_10." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.7.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_10.">Table 2.4.7. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_10’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_10</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0.9 - 1.5</td>
<td style="text-align: right;">211 (0.9%)</td>
<td style="text-align: right;">0.118</td>
</tr>
<tr class="even">
<td style="text-align: left;">1.5 - 2.1</td>
<td style="text-align: right;">545 (2.3%)</td>
<td style="text-align: right;">0.097</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2.1 - 2.7</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">2.7 - 3.3</td>
<td style="text-align: right;">359 (1.5%)</td>
<td style="text-align: right;">0.153</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3.3 - 3.9</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">3.9 - 4.5</td>
<td style="text-align: right;">423 (1.8%)</td>
<td style="text-align: right;">0.097</td>
</tr>
<tr class="odd">
<td style="text-align: left;">4.5 - 5.1</td>
<td style="text-align: right;">754 (3.2%)</td>
<td style="text-align: right;">0.102</td>
</tr>
<tr class="even">
<td style="text-align: left;">5.1 - 5.7</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5.7 - 6.3</td>
<td style="text-align: right;">4468 (18.7%)</td>
<td style="text-align: right;">0.071</td>
</tr>
<tr class="even">
<td style="text-align: left;">6.3 - 6.9</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">6.9 - 7.5</td>
<td style="text-align: right;">17097 (71.7%)</td>
<td style="text-align: right;">0.101</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.7.-percentage-of-response-according-to-col_10-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.7.-percentage-of-response-according-to-col_10-intervals.">Figure 2.4.7. Percentage of ‘response’ according to ‘col_10’ intervals.</h3>
<pre><code>Warning: Removed 4 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-7.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_11." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_11.">Variable: <strong>col_11</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_11’: ‘<em>335830.7 - 371181.3</em>’, with: 100.0%</strong>. The next highest percentage is in the interval: ‘<em>-17675.3 - 17675.3</em>’, with: 9.6% (Table 2.4.8).</p>
</section>
<section id="table-2.4.8.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_11." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.8.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_11.">Table 2.4.8. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_11’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_11</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-17675.3 - 17675.3</td>
<td style="text-align: right;">23856 (100.0%)</td>
<td style="text-align: right;">0.096</td>
</tr>
<tr class="even">
<td style="text-align: left;">17675.3 - 53025.9</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">53025.9 - 88376.5</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">88376.5 - 123727.1</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">123727.1 - 159077.7</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">159077.7 - 194428.3</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">194428.3 - 229778.9</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">229778.9 - 265129.5</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">265129.5 - 300480.1</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">300480.1 - 335830.7</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">335830.7 - 371181.3</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">1.000</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.8.-percentage-of-response-according-to-col_11-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.8.-percentage-of-response-according-to-col_11-intervals.">Figure 2.4.8. Percentage of ‘response’ according to ‘col_11’ intervals.</h3>
<pre><code>Warning: Removed 9 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-8.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_12." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_12.">Variable: <strong>col_12</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_12’: ‘<em>335831.65 - 371182.35</em>’, with: 100.0%</strong>. The next highest percentage is in the interval: ‘<em>-17675.35 - 17675.35</em>’, with: 9.6% (Table 2.4.9).</p>
</section>
<section id="table-2.4.9.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_12." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.9.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_12.">Table 2.4.9. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_12’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_12</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-17675.35 - 17675.35</td>
<td style="text-align: right;">23856 (100.0%)</td>
<td style="text-align: right;">0.096</td>
</tr>
<tr class="even">
<td style="text-align: left;">17675.35 - 53026.05</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">53026.05 - 88376.75</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">88376.75 - 123727.45</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">123727.45 - 159078.15</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">159078.15 - 194428.85</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">194428.85 - 229779.55</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">229779.55 - 265130.25</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">265130.25 - 300480.95</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">300480.95 - 335831.65</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">335831.65 - 371182.35</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">1.000</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.9.-percentage-of-response-according-to-col_12-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.9.-percentage-of-response-according-to-col_12-intervals.">Figure 2.4.9. Percentage of ‘response’ according to ‘col_12’ intervals.</h3>
<pre><code>Warning: Removed 9 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-9.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_13." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_13.">Variable: <strong>col_13</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_13’: ‘<em>10078.55 - 11139.45</em>’, with: 100.0%</strong>. The next highest percentage is in the interval: ‘<em>530.45 - 1591.35</em>’, with: 66.7% (Table 2.4.10).</p>
</section>
<section id="table-2.4.10.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_13." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.10.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_13.">Table 2.4.10. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_13’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_13</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-530.45 - 530.45</td>
<td style="text-align: right;">23853 (100.0%)</td>
<td style="text-align: right;">0.096</td>
</tr>
<tr class="even">
<td style="text-align: left;">530.45 - 1591.35</td>
<td style="text-align: right;">3 (0.0%)</td>
<td style="text-align: right;">0.667</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1591.35 - 2652.25</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">2652.25 - 3713.15</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3713.15 - 4774.05</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">4774.05 - 5834.95</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5834.95 - 6895.85</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">6895.85 - 7956.75</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7956.75 - 9017.65</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">9017.65 - 10078.55</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10078.55 - 11139.45</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">1.000</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.10.-percentage-of-response-according-to-col_13-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.10.-percentage-of-response-according-to-col_13-intervals.">Figure 2.4.10. Percentage of ‘response’ according to ‘col_13’ intervals.</h3>
<pre><code>Warning: Removed 8 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-10.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_14." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_14.">Variable: <strong>col_14</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_14’: ‘<em>12843.7285714286 - 14195.7</em>’, with: 100.0%</strong>. The next highest percentage is in the interval: ‘<em>-675.985714285714 - 675.985714285714</em>’, with: 9.6% (Table 2.4.11).</p>
</section>
<section id="table-2.4.11.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_14." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.11.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_14.">Table 2.4.11. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_14’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_14</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-675.985714285714 - 675.985714285714</td>
<td style="text-align: right;">23688 (99.3%)</td>
<td style="text-align: right;">0.096</td>
</tr>
<tr class="even">
<td style="text-align: left;">675.985714285714 - 2027.95714285714</td>
<td style="text-align: right;">112 (0.5%)</td>
<td style="text-align: right;">0.045</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2027.95714285714 - 3379.92857142857</td>
<td style="text-align: right;">34 (0.1%)</td>
<td style="text-align: right;">0.029</td>
</tr>
<tr class="even">
<td style="text-align: left;">3379.92857142857 - 4731.9</td>
<td style="text-align: right;">10 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">4731.9 - 6083.87142857143</td>
<td style="text-align: right;">6 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">6083.87142857143 - 7435.84285714286</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7435.84285714286 - 8787.81428571428</td>
<td style="text-align: right;">3 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">8787.81428571428 - 10139.7857142857</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10139.7857142857 - 11491.7571428571</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">11491.7571428571 - 12843.7285714286</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12843.7285714286 - 14195.7</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">1.000</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.11.-percentage-of-response-according-to-col_14-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.11.-percentage-of-response-according-to-col_14-intervals.">Figure 2.4.11. Percentage of ‘response’ according to ‘col_14’ intervals.</h3>
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-11.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_15." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_15.">Variable: <strong>col_15</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_15’: ‘<em>335831.65 - 371182.35</em>’, with: 100.0%</strong>. The next highest percentage is in the interval: ‘<em>-17675.35 - 17675.35</em>’, with: 9.6% (Table 2.4.12).</p>
</section>
<section id="table-2.4.12.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_15." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.12.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_15.">Table 2.4.12. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_15’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_15</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-17675.35 - 17675.35</td>
<td style="text-align: right;">23856 (100.0%)</td>
<td style="text-align: right;">0.096</td>
</tr>
<tr class="even">
<td style="text-align: left;">17675.35 - 53026.05</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">53026.05 - 88376.75</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">88376.75 - 123727.45</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">123727.45 - 159078.15</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">159078.15 - 194428.85</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">194428.85 - 229779.55</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">229779.55 - 265130.25</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">265130.25 - 300480.95</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">300480.95 - 335831.65</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">335831.65 - 371182.35</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">1.000</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.12.-percentage-of-response-according-to-col_15-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.12.-percentage-of-response-according-to-col_15-intervals.">Figure 2.4.12. Percentage of ‘response’ according to ‘col_15’ intervals.</h3>
<pre><code>Warning: Removed 9 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-12.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_16." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_16.">Variable: <strong>col_16</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_16’: ‘<em>-126.607142857143 - 126.607142857143</em>’, with: 9.6%</strong>. The next highest percentage is in the interval: ‘<em>126.607142857143 - 379.821428571429</em>’, with: 0.0% (Table 2.4.13).</p>
</section>
<section id="table-2.4.13.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_16." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.13.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_16.">Table 2.4.13. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_16’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_16</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-126.607142857143 - 126.607142857143</td>
<td style="text-align: right;">23850 (100.0%)</td>
<td style="text-align: right;">0.096</td>
</tr>
<tr class="even">
<td style="text-align: left;">126.607142857143 - 379.821428571429</td>
<td style="text-align: right;">5 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">379.821428571429 - 633.035714285714</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">633.035714285714 - 886.25</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">886.25 - 1139.46428571429</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">1139.46428571429 - 1392.67857142857</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1392.67857142857 - 1645.89285714286</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">1645.89285714286 - 1899.10714285714</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1899.10714285714 - 2152.32142857143</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">2152.32142857143 - 2405.53571428571</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2405.53571428571 - 2658.75</td>
<td style="text-align: right;">1 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.13.-percentage-of-response-according-to-col_16-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.13.-percentage-of-response-according-to-col_16-intervals.">Figure 2.4.13. Percentage of ‘response’ according to ‘col_16’ intervals.</h3>
<pre><code>Warning: Removed 7 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-13.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_20." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_20.">Variable: <strong>col_20</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_20’: ‘<em>0.05 - 0.15</em>’, with: 71.4%</strong>. The next highest percentage is in the interval: ‘<em>0.35 - 0.45</em>’, with: 62.7% (Table 2.4.14).</p>
</section>
<section id="table-2.4.14.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_20." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.14.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_20.">Table 2.4.14. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_20’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_20</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-0.05 - 0.05</td>
<td style="text-align: right;">27 (0.1%)</td>
<td style="text-align: right;">0.593</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.05 - 0.15</td>
<td style="text-align: right;">14 (0.1%)</td>
<td style="text-align: right;">0.714</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.15 - 0.25</td>
<td style="text-align: right;">31 (0.1%)</td>
<td style="text-align: right;">0.613</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.25 - 0.35</td>
<td style="text-align: right;">70 (0.3%)</td>
<td style="text-align: right;">0.414</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.35 - 0.45</td>
<td style="text-align: right;">67 (0.3%)</td>
<td style="text-align: right;">0.627</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.45 - 0.55</td>
<td style="text-align: right;">116 (0.5%)</td>
<td style="text-align: right;">0.530</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.55 - 0.65</td>
<td style="text-align: right;">160 (0.7%)</td>
<td style="text-align: right;">0.531</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.65 - 0.75</td>
<td style="text-align: right;">400 (1.7%)</td>
<td style="text-align: right;">0.452</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.75 - 0.85</td>
<td style="text-align: right;">522 (2.2%)</td>
<td style="text-align: right;">0.433</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.85 - 0.95</td>
<td style="text-align: right;">946 (4.0%)</td>
<td style="text-align: right;">0.369</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.95 - 1.05</td>
<td style="text-align: right;">21504 (90.1%)</td>
<td style="text-align: right;">0.059</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.14.-percentage-of-response-according-to-col_20-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.14.-percentage-of-response-according-to-col_20-intervals.">Figure 2.4.14. Percentage of ‘response’ according to ‘col_20’ intervals.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-14.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_21." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_21.">Variable: <strong>col_21</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_21’: ‘<em>0.85 - 0.95</em>’, with: 75.0%</strong>. The next highest percentage is in the interval: ‘<em>0.55 - 0.65</em>’, with: 72.7% (Table 2.4.15).</p>
</section>
<section id="table-2.4.15.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_21." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.15.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_21.">Table 2.4.15. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_21’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_21</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-0.05 - 0.05</td>
<td style="text-align: right;">21935 (91.9%)</td>
<td style="text-align: right;">0.066</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.05 - 0.15</td>
<td style="text-align: right;">901 (3.8%)</td>
<td style="text-align: right;">0.388</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.15 - 0.25</td>
<td style="text-align: right;">472 (2.0%)</td>
<td style="text-align: right;">0.449</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.25 - 0.35</td>
<td style="text-align: right;">328 (1.4%)</td>
<td style="text-align: right;">0.506</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.35 - 0.45</td>
<td style="text-align: right;">92 (0.4%)</td>
<td style="text-align: right;">0.511</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.45 - 0.55</td>
<td style="text-align: right;">60 (0.3%)</td>
<td style="text-align: right;">0.533</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.55 - 0.65</td>
<td style="text-align: right;">22 (0.1%)</td>
<td style="text-align: right;">0.727</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.65 - 0.75</td>
<td style="text-align: right;">22 (0.1%)</td>
<td style="text-align: right;">0.500</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.75 - 0.85</td>
<td style="text-align: right;">6 (0.0%)</td>
<td style="text-align: right;">0.667</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.85 - 0.95</td>
<td style="text-align: right;">4 (0.0%)</td>
<td style="text-align: right;">0.750</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.95 - 1.05</td>
<td style="text-align: right;">15 (0.1%)</td>
<td style="text-align: right;">0.667</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.15.-percentage-of-response-according-to-col_21-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.15.-percentage-of-response-according-to-col_21-intervals.">Figure 2.4.15. Percentage of ‘response’ according to ‘col_21’ intervals.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-15.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_22." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_22.">Variable: <strong>col_22</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_22’: ‘<em>0.557142857142857 - 0.642857142857143</em>’, with: 66.7%</strong>. The next highest percentage is in the interval: ‘<em>0.728571428571429 - 0.814285714285715</em>’, with: 58.3% (Table 2.4.16).</p>
</section>
<section id="table-2.4.16.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_22." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.16.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_22.">Table 2.4.16. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_22’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_22</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-0.0428571428571429 - 0.0428571428571429</td>
<td style="text-align: right;">23102 (96.8%)</td>
<td style="text-align: right;">0.084</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.0428571428571429 - 0.128571428571429</td>
<td style="text-align: right;">240 (1.0%)</td>
<td style="text-align: right;">0.444</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.128571428571429 - 0.214285714285714</td>
<td style="text-align: right;">210 (0.9%)</td>
<td style="text-align: right;">0.398</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.214285714285714 - 0.3</td>
<td style="text-align: right;">101 (0.4%)</td>
<td style="text-align: right;">0.505</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.3 - 0.385714285714286</td>
<td style="text-align: right;">62 (0.3%)</td>
<td style="text-align: right;">0.452</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.385714285714286 - 0.471428571428571</td>
<td style="text-align: right;">42 (0.2%)</td>
<td style="text-align: right;">0.357</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.471428571428571 - 0.557142857142857</td>
<td style="text-align: right;">25 (0.1%)</td>
<td style="text-align: right;">0.560</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.557142857142857 - 0.642857142857143</td>
<td style="text-align: right;">27 (0.1%)</td>
<td style="text-align: right;">0.667</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.642857142857143 - 0.728571428571429</td>
<td style="text-align: right;">26 (0.1%)</td>
<td style="text-align: right;">0.462</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.728571428571429 - 0.814285714285715</td>
<td style="text-align: right;">12 (0.1%)</td>
<td style="text-align: right;">0.583</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.814285714285714 - 0.9</td>
<td style="text-align: right;">10 (0.0%)</td>
<td style="text-align: right;">0.500</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.16.-percentage-of-response-according-to-col_22-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.16.-percentage-of-response-according-to-col_22-intervals.">Figure 2.4.16. Percentage of ‘response’ according to ‘col_22’ intervals.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-16.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_23." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_23.">Variable: <strong>col_23</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_23’: ‘<em>0.25 - 0.35</em>’, with: 10.4%</strong>. The next highest percentage is in the interval: ‘<em>-0.05 - 0.05</em>’, with: 9.8% (Table 2.4.17).</p>
</section>
<section id="table-2.4.17.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_23." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.17.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_23.">Table 2.4.17. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_23’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_23</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-0.05 - 0.05</td>
<td style="text-align: right;">22418 (94.0%)</td>
<td style="text-align: right;">0.098</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.05 - 0.15</td>
<td style="text-align: right;">183 (0.8%)</td>
<td style="text-align: right;">0.060</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.15 - 0.25</td>
<td style="text-align: right;">113 (0.5%)</td>
<td style="text-align: right;">0.088</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.25 - 0.35</td>
<td style="text-align: right;">106 (0.4%)</td>
<td style="text-align: right;">0.104</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.35 - 0.45</td>
<td style="text-align: right;">84 (0.4%)</td>
<td style="text-align: right;">0.048</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.45 - 0.55</td>
<td style="text-align: right;">80 (0.3%)</td>
<td style="text-align: right;">0.088</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.55 - 0.65</td>
<td style="text-align: right;">114 (0.5%)</td>
<td style="text-align: right;">0.079</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.65 - 0.75</td>
<td style="text-align: right;">118 (0.5%)</td>
<td style="text-align: right;">0.076</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.75 - 0.85</td>
<td style="text-align: right;">153 (0.6%)</td>
<td style="text-align: right;">0.020</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.85 - 0.95</td>
<td style="text-align: right;">139 (0.6%)</td>
<td style="text-align: right;">0.086</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.95 - 1.05</td>
<td style="text-align: right;">349 (1.5%)</td>
<td style="text-align: right;">0.046</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.17.-percentage-of-response-according-to-col_23-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.17.-percentage-of-response-according-to-col_23-intervals.">Figure 2.4.17. Percentage of ‘response’ according to ‘col_23’ intervals.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-17.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_24." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_24.">Variable: <strong>col_24</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_24’: ‘<em>0.75 - 0.85</em>’, with: 14.3%</strong>. The next highest percentage is in the interval: ‘<em>0.55 - 0.65</em>’, with: 12.7% (Table 2.4.18).</p>
</section>
<section id="table-2.4.18.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_24." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.18.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_24.">Table 2.4.18. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_24’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_24</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-0.05 - 0.05</td>
<td style="text-align: right;">22369 (93.8%)</td>
<td style="text-align: right;">0.098</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.05 - 0.15</td>
<td style="text-align: right;">151 (0.6%)</td>
<td style="text-align: right;">0.033</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.15 - 0.25</td>
<td style="text-align: right;">54 (0.2%)</td>
<td style="text-align: right;">0.019</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.25 - 0.35</td>
<td style="text-align: right;">47 (0.2%)</td>
<td style="text-align: right;">0.043</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.35 - 0.45</td>
<td style="text-align: right;">41 (0.2%)</td>
<td style="text-align: right;">0.049</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.45 - 0.55</td>
<td style="text-align: right;">10 (0.0%)</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.55 - 0.65</td>
<td style="text-align: right;">55 (0.2%)</td>
<td style="text-align: right;">0.127</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.65 - 0.75</td>
<td style="text-align: right;">57 (0.2%)</td>
<td style="text-align: right;">0.105</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.75 - 0.85</td>
<td style="text-align: right;">7 (0.0%)</td>
<td style="text-align: right;">0.143</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.85 - 0.95</td>
<td style="text-align: right;">221 (0.9%)</td>
<td style="text-align: right;">0.059</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.95 - 1.05</td>
<td style="text-align: right;">845 (3.5%)</td>
<td style="text-align: right;">0.067</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.18.-percentage-of-response-according-to-col_24-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.18.-percentage-of-response-according-to-col_24-intervals.">Figure 2.4.18. Percentage of ‘response’ according to ‘col_24’ intervals.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-18.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_25." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_25.">Variable: <strong>col_25</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_25’: ‘<em>0.95 - 1.05</em>’, with: 68.3%</strong>. The next highest percentage is in the interval: ‘<em>0.85 - 0.95</em>’, with: 58.2% (Table 2.4.19).</p>
</section>
<section id="table-2.4.19.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_25." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.19.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_25.">Table 2.4.19. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_25’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_25</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-0.05 - 0.05</td>
<td style="text-align: right;">20544 (86.1%)</td>
<td style="text-align: right;">0.049</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.05 - 0.15</td>
<td style="text-align: right;">1084 (4.5%)</td>
<td style="text-align: right;">0.278</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.15 - 0.25</td>
<td style="text-align: right;">257 (1.1%)</td>
<td style="text-align: right;">0.346</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.25 - 0.35</td>
<td style="text-align: right;">695 (2.9%)</td>
<td style="text-align: right;">0.401</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.35 - 0.45</td>
<td style="text-align: right;">434 (1.8%)</td>
<td style="text-align: right;">0.429</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.45 - 0.55</td>
<td style="text-align: right;">80 (0.3%)</td>
<td style="text-align: right;">0.475</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.55 - 0.65</td>
<td style="text-align: right;">298 (1.2%)</td>
<td style="text-align: right;">0.500</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.65 - 0.75</td>
<td style="text-align: right;">209 (0.9%)</td>
<td style="text-align: right;">0.426</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.75 - 0.85</td>
<td style="text-align: right;">28 (0.1%)</td>
<td style="text-align: right;">0.536</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.85 - 0.95</td>
<td style="text-align: right;">165 (0.7%)</td>
<td style="text-align: right;">0.582</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.95 - 1.05</td>
<td style="text-align: right;">63 (0.3%)</td>
<td style="text-align: right;">0.683</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.19.-percentage-of-response-according-to-col_25-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.19.-percentage-of-response-according-to-col_25-intervals.">Figure 2.4.19. Percentage of ‘response’ according to ‘col_25’ intervals.</h3>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-19.png" class="img-fluid" width="672"></p>
</section>
<section id="variable-col_26." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-col_26.">Variable: <strong>col_26</strong>.</h3>
<p><strong>The highest percentage of ‘response’ occurs in the interval of ‘col_26’: ‘<em>0.814285714285714 - 0.9</em>’, with: 58.7%</strong>. The next highest percentage is in the interval: ‘<em>0.557142857142857 - 0.642857142857143</em>’, with: 47.1% (Table 2.4.20).</p>
</section>
<section id="table-2.4.20.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_26." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="table-2.4.20.-count-and-percentage-of-rds-and-proportion-of-events-for-responseaccording-to-different-intervals-of-col_26.">Table 2.4.20. Count (and percentage) of rds and proportion of events for ‘responseaccording to different intervals of ’col_26’.</h3>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">col_26</th>
<th style="text-align: right;">n (percentage %)</th>
<th style="text-align: right;">response</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">-0.0428571428571429 - 0.0428571428571429</td>
<td style="text-align: right;">22825 (95.7%)</td>
<td style="text-align: right;">0.081</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.0428571428571429 - 0.128571428571429</td>
<td style="text-align: right;">0 (0.0%)</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.128571428571429 - 0.214285714285714</td>
<td style="text-align: right;">319 (1.3%)</td>
<td style="text-align: right;">0.373</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.214285714285714 - 0.3</td>
<td style="text-align: right;">171 (0.7%)</td>
<td style="text-align: right;">0.368</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.3 - 0.385714285714286</td>
<td style="text-align: right;">31 (0.1%)</td>
<td style="text-align: right;">0.355</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.385714285714286 - 0.471428571428571</td>
<td style="text-align: right;">166 (0.7%)</td>
<td style="text-align: right;">0.416</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.471428571428571 - 0.557142857142857</td>
<td style="text-align: right;">22 (0.1%)</td>
<td style="text-align: right;">0.409</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.557142857142857 - 0.642857142857143</td>
<td style="text-align: right;">119 (0.5%)</td>
<td style="text-align: right;">0.471</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.642857142857143 - 0.728571428571429</td>
<td style="text-align: right;">88 (0.4%)</td>
<td style="text-align: right;">0.455</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.728571428571429 - 0.814285714285715</td>
<td style="text-align: right;">7 (0.0%)</td>
<td style="text-align: right;">0.429</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.814285714285714 - 0.9</td>
<td style="text-align: right;">109 (0.5%)</td>
<td style="text-align: right;">0.587</td>
</tr>
</tbody>
</table>
</section>
<section id="figure-2.4.20.-percentage-of-response-according-to-col_26-intervals." class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="figure-2.4.20.-percentage-of-response-according-to-col_26-intervals.">Figure 2.4.20. Percentage of ‘response’ according to ‘col_26’ intervals.</h3>
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-5-20.png" class="img-fluid" width="672"></p>
</section>
</section>
<section id="matrix-correlation-of-quantitative-predictors" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="matrix-correlation-of-quantitative-predictors">2.5. Matrix correlation of quantitative predictors</h2>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>M      <span class="ot">&lt;-</span> <span class="fu">cor</span>(df[, nvars], <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>df_cor <span class="ot">&lt;-</span> <span class="fu">cor</span>(df[, nvars])</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(df_cor, <span class="at">order =</span> <span class="st">'hclust'</span>, <span class="at">addrect =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<p><img src="cooperative_learning_html_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</section>
</section>
<section id="model-training" class="level1 unnumbered">
<h1 class="unnumbered">3. Model Training</h1>
<section id="data-preparation" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="data-preparation">3.1. Data preparation</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert character variables to factors and then remove unused factor levels</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>predictors_to_exclude <span class="ot">&lt;-</span> <span class="fu">c</span>(response, <span class="st">"id"</span>, <span class="st">"col_18"</span>, <span class="st">"col_19"</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>cvars  <span class="ot">&lt;-</span> cvars[<span class="sc">!</span> cvars <span class="sc">%in%</span> predictors_to_exclude]</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(cvars), <span class="sc">~</span> <span class="cf">if</span> (<span class="fu">is.character</span>(.)) <span class="fu">as.factor</span>(.) <span class="cf">else</span> .)) <span class="sc">%&gt;%</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(cvars), droplevels))</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Formula to create dummies</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>dummy_formula <span class="ot">&lt;-</span> <span class="fu">formula</span>(<span class="fu">paste0</span>(<span class="st">" ~ "</span>, <span class="fu">paste</span>(cvars, <span class="at">collapse =</span> <span class="st">" + "</span>), <span class="st">" - 1"</span> ) )</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert categorical variables to dummy variables</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>dummy_vars <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(dummy_formula, <span class="at">data =</span> df)</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the data into a training set (70%) and a test set (30%)</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Set a seed to reproduce the results</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2000</span>)</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample Indexes</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>indexes <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(df), <span class="at">size =</span> <span class="fu">round</span>(<span class="fl">0.3</span> <span class="sc">*</span> <span class="fu">nrow</span>(df)))</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Split data</span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>df_ready    <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df[<span class="fu">c</span>(response, nvars)], dummy_vars)</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>df_to_train <span class="ot">&lt;-</span> df_ready[<span class="sc">-</span>indexes,]</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>df_to_test  <span class="ot">&lt;-</span> df_ready[ indexes,]</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize numeric variables in the train set</span></span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>numeric_vars_std <span class="ot">&lt;-</span> <span class="fu">scale</span>(df_to_train[, nvars])</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Save means and standard deviations</span></span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>df_standardization <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">variable =</span> <span class="fu">colnames</span>(numeric_vars_std),</span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">mean     =</span> <span class="fu">attr</span>(numeric_vars_std, <span class="st">"scaled:center"</span>),</span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">sd       =</span> <span class="fu">attr</span>(numeric_vars_std, <span class="st">"scaled:scale"</span>)</span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df_standardization, <span class="at">file =</span> <span class="fu">file.path</span>(file_path, <span class="st">"features_std.csv"</span>),  <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-39"><a href="#cb25-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize numeric variables in the test set</span></span>
<span id="cb25-40"><a href="#cb25-40" aria-hidden="true" tabindex="-1"></a>numeric_vars_test_std <span class="ot">&lt;-</span> <span class="fu">scale</span>(df_to_test[, nvars], <span class="at">center =</span> df_standardization<span class="sc">$</span>mean, <span class="at">scale =</span> df_standardization<span class="sc">$</span>sd)</span>
<span id="cb25-41"><a href="#cb25-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-42"><a href="#cb25-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare train and test sets with standarized numeric variables</span></span>
<span id="cb25-43"><a href="#cb25-43" aria-hidden="true" tabindex="-1"></a>df_train <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df_to_train[, <span class="sc">!</span><span class="fu">colnames</span>(df_to_train) <span class="sc">%in%</span> nvars], numeric_vars_std)</span>
<span id="cb25-44"><a href="#cb25-44" aria-hidden="true" tabindex="-1"></a>df_test  <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df_to_test[, <span class="sc">!</span><span class="fu">colnames</span>(df_to_test) <span class="sc">%in%</span> nvars], numeric_vars_test_std)</span>
<span id="cb25-45"><a href="#cb25-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-46"><a href="#cb25-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-47"><a href="#cb25-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Predictors to exclude</span></span>
<span id="cb25-48"><a href="#cb25-48" aria-hidden="true" tabindex="-1"></a>predictors  <span class="ot">&lt;-</span> <span class="fu">colnames</span>(df_train)[<span class="sc">!</span> <span class="fu">colnames</span>(df_train) <span class="sc">%in%</span> predictors_to_exclude]</span>
<span id="cb25-49"><a href="#cb25-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-50"><a href="#cb25-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Model formula to analyze the renponse variable with all the predictors</span></span>
<span id="cb25-51"><a href="#cb25-51" aria-hidden="true" tabindex="-1"></a>model_formula <span class="ot">&lt;-</span> <span class="fu">formula</span>(<span class="fu">paste0</span>(response, <span class="st">" ~ "</span>, <span class="fu">paste</span>(predictors, <span class="at">collapse =</span> <span class="st">" + "</span>) ) )</span>
<span id="cb25-52"><a href="#cb25-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-53"><a href="#cb25-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-54"><a href="#cb25-54" aria-hidden="true" tabindex="-1"></a>performance_models  <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb25-55"><a href="#cb25-55" aria-hidden="true" tabindex="-1"></a>prop_df_train       <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(<span class="fu">table</span>(df_train[response]))[<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="stepwise-logistic-regression" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="stepwise-logistic-regression">3.2. Stepwise Logistic Regression</h2>
<p>A stepwise logistic regression is fitted.</p>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Full model</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>rl_full <span class="ot">&lt;-</span> <span class="fu">suppressWarnings</span>(<span class="fu">glm</span>(model_formula, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">'logit'</span>), <span class="at">data =</span> df_train))</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' Model with only the intercept</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>rl_intercepto <span class="ot">&lt;-</span> <span class="fu">suppressWarnings</span>(<span class="fu">glm</span>(response <span class="sc">~</span> <span class="dv">1</span>, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">'logit'</span>), <span class="at">data =</span> df_train))</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>fit_rl <span class="ot">&lt;-</span> <span class="fu">suppressWarnings</span>(<span class="fu">step</span>(</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  rl_intercepto, </span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">scope =</span> <span class="fu">list</span>(<span class="at">lower =</span> rl_intercepto, <span class="at">upper =</span> rl_full), </span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">direction =</span> <span class="st">"both"</span>,</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">trace =</span> <span class="dv">0</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>) )</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste0</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">### Stepwise Logistic Regression Coefficients.</span><span class="sc">\n</span><span class="st">"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<section id="stepwise-logistic-regression-coefficients." class="level3" data-number="0.0.2">
<h3 data-number="0.0.2" class="anchored" data-anchor-id="stepwise-logistic-regression-coefficients."><span class="header-section-number">0.0.2</span> Stepwise Logistic Regression Coefficients.</h3>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">tidy</span>(fit_rl))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-2.9189541</td>
<td style="text-align: right;">0.0404960</td>
<td style="text-align: right;">-72.080121</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_62</td>
<td style="text-align: right;">1.3362643</td>
<td style="text-align: right;">0.1054282</td>
<td style="text-align: right;">12.674642</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_172</td>
<td style="text-align: right;">1.4712505</td>
<td style="text-align: right;">0.0959083</td>
<td style="text-align: right;">15.340181</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_3</td>
<td style="text-align: right;">0.1770373</td>
<td style="text-align: right;">0.0264783</td>
<td style="text-align: right;">6.686127</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_26</td>
<td style="text-align: right;">0.1364188</td>
<td style="text-align: right;">0.0396999</td>
<td style="text-align: right;">3.436251</td>
<td style="text-align: right;">0.0005898</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_173</td>
<td style="text-align: right;">1.6636511</td>
<td style="text-align: right;">0.1772915</td>
<td style="text-align: right;">9.383705</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_2</td>
<td style="text-align: right;">0.2023306</td>
<td style="text-align: right;">0.0277996</td>
<td style="text-align: right;">7.278187</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_10</td>
<td style="text-align: right;">-0.1649019</td>
<td style="text-align: right;">0.0294972</td>
<td style="text-align: right;">-5.590419</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_175</td>
<td style="text-align: right;">1.8858509</td>
<td style="text-align: right;">0.2645310</td>
<td style="text-align: right;">7.129035</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_174</td>
<td style="text-align: right;">1.4753011</td>
<td style="text-align: right;">0.2661482</td>
<td style="text-align: right;">5.543156</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_23</td>
<td style="text-align: right;">-0.1532474</td>
<td style="text-align: right;">0.0387788</td>
<td style="text-align: right;">-3.951832</td>
<td style="text-align: right;">0.0000776</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_21</td>
<td style="text-align: right;">0.1007449</td>
<td style="text-align: right;">0.0264385</td>
<td style="text-align: right;">3.810536</td>
<td style="text-align: right;">0.0001387</td>
</tr>
<tr class="odd">
<td style="text-align: left;">col_13</td>
<td style="text-align: right;">0.3185304</td>
<td style="text-align: right;">0.1555422</td>
<td style="text-align: right;">2.047872</td>
<td style="text-align: right;">0.0405726</td>
</tr>
<tr class="even">
<td style="text-align: left;">col_124</td>
<td style="text-align: right;">-1.0150503</td>
<td style="text-align: right;">0.6111045</td>
<td style="text-align: right;">-1.661009</td>
<td style="text-align: right;">0.0967116</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Logistic Regression Metrics</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>predictions <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit_rl, df_test, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>performance_rl <span class="ot">&lt;-</span> <span class="fu">calculate_metrics</span>(</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">name   =</span> <span class="st">"Log Reg"</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_real =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(df_test[[response]])), <span class="co"># it is necessary to convert the factor variable to numeric</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_prob =</span> predictions,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">cutoff =</span> prop_df_train</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<pre><code>Setting levels: control = 0, case = 1</code></pre>
<pre><code>Setting direction: controls &lt; cases</code></pre>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste0</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">### Logistic Regression Performance Metrics</span><span class="sc">\n</span><span class="st">"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
<section id="logistic-regression-performance-metrics" class="level3" data-number="0.0.3">
<h3 data-number="0.0.3" class="anchored" data-anchor-id="logistic-regression-performance-metrics"><span class="header-section-number">0.0.3</span> Logistic Regression Performance Metrics</h3>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(performance_rl, <span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table">
<colgroup>
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 9%">
<col style="width: 11%">
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 15%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Model</th>
<th style="text-align: right;">RMSE</th>
<th style="text-align: right;">AUC</th>
<th style="text-align: right;">Lift_5</th>
<th style="text-align: right;">Accuracy</th>
<th style="text-align: right;">Recall</th>
<th style="text-align: right;">Precision</th>
<th style="text-align: right;">Specificity</th>
<th style="text-align: right;">F1_Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Log Reg</td>
<td style="text-align: right;">0.259</td>
<td style="text-align: right;">0.806188</td>
<td style="text-align: right;">6.301</td>
<td style="text-align: right;">0.864</td>
<td style="text-align: right;">0.598</td>
<td style="text-align: right;">0.367</td>
<td style="text-align: right;">0.892</td>
<td style="text-align: right;">0.455</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>performance_models <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  performance_models, </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  performance_rl</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
</section>
<section id="random-forest" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="random-forest">3.3. Random Forest</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>nt <span class="ot">=</span> <span class="dv">500</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>df_train[[response]] <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(df_train[[response]])</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>randomForest <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  model_formula,</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">data       =</span> df_train,  </span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ntree      =</span> nt,  </span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">mtry       =</span> <span class="dv">5</span>,    </span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">importance =</span> <span class="cn">TRUE</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="co">#' Random Forest metrics</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>predictions <span class="ot">&lt;-</span> <span class="fu">predict</span>(randomForest, df_test, <span class="at">type =</span> <span class="st">"prob"</span>)[, <span class="dv">2</span>]</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>performance_rf <span class="ot">&lt;-</span> <span class="fu">calculate_metrics</span>(</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">name   =</span> <span class="fu">paste0</span>(<span class="st">"Random Forest - ntree "</span>, nt),</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_real =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(df_test[[response]])), </span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">y_prob =</span> predictions,</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">cutoff =</span> prop_df_train</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Setting levels: control = 0, case = 1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Setting direction: controls &lt; cases</code></pre>
</div>
</div>
<section id="random-forest-performance-metrics" class="level3" data-number="0.0.4">
<h3 data-number="0.0.4" class="anchored" data-anchor-id="random-forest-performance-metrics"><span class="header-section-number">0.0.4</span> Random Forest Performance Metrics</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(performance_rf, <span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 27%">
<col style="width: 6%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 9%">
<col style="width: 7%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Model</th>
<th style="text-align: right;">RMSE</th>
<th style="text-align: right;">AUC</th>
<th style="text-align: right;">Lift_5</th>
<th style="text-align: right;">Accuracy</th>
<th style="text-align: right;">Recall</th>
<th style="text-align: right;">Precision</th>
<th style="text-align: right;">Specificity</th>
<th style="text-align: right;">F1_Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Random Forest - ntree 500</td>
<td style="text-align: right;">0.262</td>
<td style="text-align: right;">0.7816235</td>
<td style="text-align: right;">6.124</td>
<td style="text-align: right;">0.862</td>
<td style="text-align: right;">0.586</td>
<td style="text-align: right;">0.36</td>
<td style="text-align: right;">0.891</td>
<td style="text-align: right;">0.446</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>performance_models <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  performance_models, </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  performance_rf</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="cooperative-learning-models" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="cooperative-learning-models">3.4. Cooperative Learning Models</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span><span class="al">###</span><span class="co"> Split data in the views.</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>groups <span class="ot">&lt;-</span> groups <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prefix =</span> <span class="fu">paste0</span>(<span class="st">"g"</span>, group))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create vector lists of variables that belong to each group </span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (group <span class="cf">in</span> <span class="fu">unique</span>(groups<span class="sc">$</span>prefix)) {</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Vectors with the features of each group</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assign</span>(group, groups<span class="sc">$</span>feature[groups<span class="sc">$</span>prefix <span class="sc">==</span> group])</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Data set of each group</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  index <span class="ot">&lt;-</span> <span class="fu">which</span>(group <span class="sc">==</span> <span class="fu">unique</span>(groups<span class="sc">$</span>prefix))</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assign</span>(<span class="fu">paste0</span>(<span class="st">"x"</span>, index), <span class="fu">as.matrix</span>(df_train[, <span class="fu">get</span>(group)]))</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (group <span class="cf">in</span> <span class="fu">unique</span>(groups<span class="sc">$</span>prefix)) {</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Data set of each group</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>  index <span class="ot">&lt;-</span> <span class="fu">which</span>(group <span class="sc">==</span> <span class="fu">unique</span>(groups<span class="sc">$</span>prefix))</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assign</span>(<span class="fu">paste0</span>(<span class="st">"test_x"</span>, index), <span class="fu">as.matrix</span>(df_test[, <span class="fu">get</span>(group)]))</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="cooperative-learning-with-penalty-parameter-rho-equal-to-0.5" class="level3" data-number="0.0.5">
<h3 data-number="0.0.5" class="anchored" data-anchor-id="cooperative-learning-with-penalty-parameter-rho-equal-to-0.5"><span class="header-section-number">0.0.5</span> 3.4.1 Cooperative Learning with penalty parameter (<span class="math inline">\(\rho\)</span>) equal to 0.5</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Create a folder for the model</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>rho        <span class="ot">&lt;-</span> <span class="fl">0.5</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>n_groups   <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">unique</span>(groups<span class="sc">$</span>prefix))</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>n_vars     <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">table</span>(groups<span class="sc">$</span>prefix)) </span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>model_name <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"CoopLearn_"</span>, <span class="st">"r"</span>, rho, <span class="st">"_g"</span>, n_groups, <span class="st">"_p"</span>, n_vars, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="co">#' Create the folder, if it does not exist</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="fu">file.path</span>(models_path, model_name), <span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' Define the response</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>y      <span class="ot">&lt;-</span> df_train[, response]</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>y_test <span class="ot">&lt;-</span> df_test[, response]</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(<span class="fu">file.path</span>(models_path, model_name, <span class="st">"predictions.csv"</span>))) {</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit model</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>  start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>  fit_coop <span class="ot">=</span> <span class="fu">cv.multiview</span>(</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(x1, x2, x3, x4, x5, x6), </span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>    y, </span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">family       =</span> <span class="fu">binomial</span>(), </span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">type.measure =</span> <span class="st">"deviance"</span>, </span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">nfolds       =</span> <span class="dv">3</span>,</span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho          =</span> rho,</span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">trace.it     =</span> <span class="cn">TRUE</span></span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a>  finish_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a>  coop_learning_time <span class="ot">&lt;-</span> <span class="fu">difftime</span>(finish_time, start_time, <span class="at">units =</span> <span class="st">"sec"</span>) </span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb41-32"><a href="#cb41-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Lasso penalty parameter</span></span>
<span id="cb41-33"><a href="#cb41-33" aria-hidden="true" tabindex="-1"></a>  reg <span class="ot">&lt;-</span> fit_coop<span class="sc">$</span>lambda.min</span>
<span id="cb41-34"><a href="#cb41-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb41-35"><a href="#cb41-35" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Calculate predictions</span></span>
<span id="cb41-36"><a href="#cb41-36" aria-hidden="true" tabindex="-1"></a>  pred_multiview <span class="ot">&lt;-</span> <span class="fu">predict</span>(</span>
<span id="cb41-37"><a href="#cb41-37" aria-hidden="true" tabindex="-1"></a>    fit_coop, </span>
<span id="cb41-38"><a href="#cb41-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">newx =</span> <span class="fu">list</span>(test_x1, test_x2, test_x3, test_x4, test_x5, test_x6), </span>
<span id="cb41-39"><a href="#cb41-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">s =</span> reg, <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb41-40"><a href="#cb41-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-41"><a href="#cb41-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb41-42"><a href="#cb41-42" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Calculate the metrics</span></span>
<span id="cb41-43"><a href="#cb41-43" aria-hidden="true" tabindex="-1"></a>  performance_cl01 <span class="ot">&lt;-</span> <span class="fu">calculate_metrics</span>(</span>
<span id="cb41-44"><a href="#cb41-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">name   =</span> model_name,</span>
<span id="cb41-45"><a href="#cb41-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">y_real =</span> y_test, </span>
<span id="cb41-46"><a href="#cb41-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">y_prob =</span> <span class="fu">as.vector</span>(pred_multiview),</span>
<span id="cb41-47"><a href="#cb41-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">cutoff =</span> prop_df_train</span>
<span id="cb41-48"><a href="#cb41-48" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-49"><a href="#cb41-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb41-50"><a href="#cb41-50" aria-hidden="true" tabindex="-1"></a>  performance_models <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb41-51"><a href="#cb41-51" aria-hidden="true" tabindex="-1"></a>    performance_models, </span>
<span id="cb41-52"><a href="#cb41-52" aria-hidden="true" tabindex="-1"></a>    performance_cl01</span>
<span id="cb41-53"><a href="#cb41-53" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-54"><a href="#cb41-54" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb41-55"><a href="#cb41-55" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save the model object</span></span>
<span id="cb41-56"><a href="#cb41-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(fit_coop, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"model_object.rds"</span>))</span>
<span id="cb41-57"><a href="#cb41-57" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save execution time</span></span>
<span id="cb41-58"><a href="#cb41-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(coop_learning_time, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"execution_time.csv"</span>))</span>
<span id="cb41-59"><a href="#cb41-59" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save predictions</span></span>
<span id="cb41-60"><a href="#cb41-60" aria-hidden="true" tabindex="-1"></a>  df_to_kpis <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(y_test, pred_multiview)</span>
<span id="cb41-61"><a href="#cb41-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(df_to_kpis, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"predictions.csv"</span>))</span>
<span id="cb41-62"><a href="#cb41-62" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save kpis</span></span>
<span id="cb41-63"><a href="#cb41-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(performance_cl01, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"kpis.csv"</span>))</span>
<span id="cb41-64"><a href="#cb41-64" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb41-65"><a href="#cb41-65" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read risk, metrics, and importance</span></span>
<span id="cb41-66"><a href="#cb41-66" aria-hidden="true" tabindex="-1"></a>  dfPredictions        <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"predictions.csv"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb41-67"><a href="#cb41-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>X)</span>
<span id="cb41-68"><a href="#cb41-68" aria-hidden="true" tabindex="-1"></a>  kpis                 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"kpis.csv"</span>))[, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb41-69"><a href="#cb41-69" aria-hidden="true" tabindex="-1"></a>  fit_coop             <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"model_object.rds"</span>)) </span>
<span id="cb41-70"><a href="#cb41-70" aria-hidden="true" tabindex="-1"></a>  coop_learning_time   <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"execution_time.csv"</span>))[, <span class="dv">2</span>] </span>
<span id="cb41-71"><a href="#cb41-71" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb41-72"><a href="#cb41-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb41-73"><a href="#cb41-73" aria-hidden="true" tabindex="-1"></a>  performance_models <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb41-74"><a href="#cb41-74" aria-hidden="true" tabindex="-1"></a>    performance_models, </span>
<span id="cb41-75"><a href="#cb41-75" aria-hidden="true" tabindex="-1"></a>    kpis</span>
<span id="cb41-76"><a href="#cb41-76" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-77"><a href="#cb41-77" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb41-78"><a href="#cb41-78" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="cooperative-learning-rho-0.5-coefficients" class="level4" data-number="0.0.5.1">
<h4 data-number="0.0.5.1" class="anchored" data-anchor-id="cooperative-learning-rho-0.5-coefficients"><span class="header-section-number">0.0.5.1</span> Cooperative Learning (<span class="math inline">\(\rho\)</span> = 0.5) Coefficients</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' #### Adjusted coefficients</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(fit_coop, <span class="at">s =</span> <span class="st">"lambda.min"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>31 x 1 sparse Matrix of class "dgCMatrix"
                         s1
(Intercept)   -2.2696043097
View1:col_11   0.0263295836
View1:col_12  -0.0347556375
View1:col_4    0.0022621861
View1:col_15   0.0107289484
View2:col_13   0.0099089231
View2:col_5    0.0019060819
View2:col_14  -0.0060963747
View2:col_7   -0.0011020747
View2:col_23  -0.0062311867
View2:col_24   0.0049602479
View3:col_2    0.0150872761
View3:col_11  -0.0002934944
View4:col_16  -0.0008227085
View4:col_22   0.0021857725
View4:col_26   0.0330170292
View5:col_3    0.0049150149
View5:col_9    0.0310308626
View5:col_21  -0.0044436390
View5:col_25   0.0381043718
View5:col_20  -0.0055248814
View6:col_120  0.0012922967
View6:col_123  .           
View6:col_124 -0.0169444844
View6:col_127 -0.0008212166
View6:col_62   0.1630322239
View6:col_81  -0.0119235582
View6:col_172  0.0765576868
View6:col_173  0.1398903648
View6:col_174  0.1568649608
View6:col_175  0.1879236273</code></pre>
</div>
</div>
</section>
<section id="cooperative-learning-rho-0.5-performance-metrics" class="level4" data-number="0.0.5.2">
<h4 data-number="0.0.5.2" class="anchored" data-anchor-id="cooperative-learning-rho-0.5-performance-metrics"><span class="header-section-number">0.0.5.2</span> Cooperative Learning (<span class="math inline">\(\rho\)</span> = 0.5) Performance Metrics</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' #### Kpis</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(kpis, <span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 25%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Model</th>
<th style="text-align: right;">RMSE</th>
<th style="text-align: right;">AUC</th>
<th style="text-align: right;">Lift_5</th>
<th style="text-align: right;">Accuracy</th>
<th style="text-align: right;">Recall</th>
<th style="text-align: right;">Precision</th>
<th style="text-align: right;">Specificity</th>
<th style="text-align: right;">F1_Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CoopLearn_r0.5_g6_p30</td>
<td style="text-align: right;">0.286</td>
<td style="text-align: right;">0.801</td>
<td style="text-align: right;">6.212</td>
<td style="text-align: right;">0.871</td>
<td style="text-align: right;">0.588</td>
<td style="text-align: right;">0.384</td>
<td style="text-align: right;">0.901</td>
<td style="text-align: right;">0.464</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="cooperative-learning-with-penalty-parameter-rho-equal-to-0.7" class="level3" data-number="0.0.6">
<h3 data-number="0.0.6" class="anchored" data-anchor-id="cooperative-learning-with-penalty-parameter-rho-equal-to-0.7"><span class="header-section-number">0.0.6</span> 3.4.2 Cooperative Learning with penalty parameter (<span class="math inline">\(\rho\)</span>) equal to 0.7</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Create a folder for the model</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>rho        <span class="ot">&lt;-</span> <span class="fl">0.7</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>n_groups   <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">unique</span>(groups<span class="sc">$</span>prefix))</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>n_vars     <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">table</span>(groups<span class="sc">$</span>prefix)) </span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>model_name <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"CoopLearn_"</span>, <span class="st">"r"</span>, rho, <span class="st">"_g"</span>, n_groups, <span class="st">"_p"</span>, n_vars, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="co">#' Create the folder, if it does not exist</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="fu">file.path</span>(models_path, model_name), <span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' Define the response</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>y      <span class="ot">&lt;-</span> df_train[, response]</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>y_test <span class="ot">&lt;-</span> df_test[, response]</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(<span class="fu">file.path</span>(models_path, model_name, <span class="st">"predictions.csv"</span>))) {</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit model</span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>  start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>  fit_coop <span class="ot">=</span> <span class="fu">cv.multiview</span>(</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(x1, x2, x3, x4, x5, x6), </span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>    y, </span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">family       =</span> <span class="fu">binomial</span>(), </span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">type.measure =</span> <span class="st">"deviance"</span>, </span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">nfolds       =</span> <span class="dv">3</span>,</span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho          =</span> rho,</span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">trace.it     =</span> <span class="cn">TRUE</span></span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>  finish_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a>  coop_learning_time <span class="ot">&lt;-</span> <span class="fu">difftime</span>(finish_time, start_time, <span class="at">units =</span> <span class="st">"sec"</span>) </span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Lasso penalty parameter</span></span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a>  reg <span class="ot">&lt;-</span> fit_coop<span class="sc">$</span>lambda.min</span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Calculate predictions</span></span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a>  pred_multiview <span class="ot">&lt;-</span> <span class="fu">predict</span>(</span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a>    fit_coop, </span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">newx =</span> <span class="fu">list</span>(test_x1, test_x2, test_x3, test_x4, test_x5, test_x6), </span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">s =</span> reg, <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Calculate the metrics</span></span>
<span id="cb45-43"><a href="#cb45-43" aria-hidden="true" tabindex="-1"></a>  performance_cl01 <span class="ot">&lt;-</span> <span class="fu">calculate_metrics</span>(</span>
<span id="cb45-44"><a href="#cb45-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">name   =</span> model_name,</span>
<span id="cb45-45"><a href="#cb45-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">y_real =</span> y_test, </span>
<span id="cb45-46"><a href="#cb45-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">y_prob =</span> <span class="fu">as.vector</span>(pred_multiview),</span>
<span id="cb45-47"><a href="#cb45-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">cutoff =</span> prop_df_train</span>
<span id="cb45-48"><a href="#cb45-48" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-49"><a href="#cb45-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-50"><a href="#cb45-50" aria-hidden="true" tabindex="-1"></a>  performance_models <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb45-51"><a href="#cb45-51" aria-hidden="true" tabindex="-1"></a>    performance_models, </span>
<span id="cb45-52"><a href="#cb45-52" aria-hidden="true" tabindex="-1"></a>    performance_cl01</span>
<span id="cb45-53"><a href="#cb45-53" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-54"><a href="#cb45-54" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-55"><a href="#cb45-55" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save the model object</span></span>
<span id="cb45-56"><a href="#cb45-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(fit_coop, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"model_object.rds"</span>))</span>
<span id="cb45-57"><a href="#cb45-57" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save execution time</span></span>
<span id="cb45-58"><a href="#cb45-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(coop_learning_time, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"execution_time.csv"</span>))</span>
<span id="cb45-59"><a href="#cb45-59" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save predictions</span></span>
<span id="cb45-60"><a href="#cb45-60" aria-hidden="true" tabindex="-1"></a>  df_to_kpis <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(y_test, pred_multiview)</span>
<span id="cb45-61"><a href="#cb45-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(df_to_kpis, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"predictions.csv"</span>))</span>
<span id="cb45-62"><a href="#cb45-62" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save kpis</span></span>
<span id="cb45-63"><a href="#cb45-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(performance_cl01, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"kpis.csv"</span>))</span>
<span id="cb45-64"><a href="#cb45-64" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb45-65"><a href="#cb45-65" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read risk, metrics, and importance</span></span>
<span id="cb45-66"><a href="#cb45-66" aria-hidden="true" tabindex="-1"></a>  dfPredictions        <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"predictions.csv"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-67"><a href="#cb45-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>X)</span>
<span id="cb45-68"><a href="#cb45-68" aria-hidden="true" tabindex="-1"></a>  kpis                 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"kpis.csv"</span>))[, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb45-69"><a href="#cb45-69" aria-hidden="true" tabindex="-1"></a>  fit_coop             <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"model_object.rds"</span>)) </span>
<span id="cb45-70"><a href="#cb45-70" aria-hidden="true" tabindex="-1"></a>  coop_learning_time   <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"execution_time.csv"</span>))[, <span class="dv">2</span>] </span>
<span id="cb45-71"><a href="#cb45-71" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-72"><a href="#cb45-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-73"><a href="#cb45-73" aria-hidden="true" tabindex="-1"></a>  performance_models <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb45-74"><a href="#cb45-74" aria-hidden="true" tabindex="-1"></a>    performance_models, </span>
<span id="cb45-75"><a href="#cb45-75" aria-hidden="true" tabindex="-1"></a>    kpis</span>
<span id="cb45-76"><a href="#cb45-76" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-77"><a href="#cb45-77" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="cooperative-learning-rho-0.7-coefficients" class="level4" data-number="0.0.6.1">
<h4 data-number="0.0.6.1" class="anchored" data-anchor-id="cooperative-learning-rho-0.7-coefficients"><span class="header-section-number">0.0.6.1</span> Cooperative Learning (<span class="math inline">\(\rho\)</span> = 0.7) Coefficients</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' #### Adjusted coefficients</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(fit_coop, <span class="at">s =</span> <span class="st">"lambda.min"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>31 x 1 sparse Matrix of class "dgCMatrix"
                         s1
(Intercept)   -2.259814e+00
View1:col_11   1.694369e-02
View1:col_12  -2.593892e-02
View1:col_4    4.584922e-03
View1:col_15   7.899764e-03
View2:col_13   7.606791e-03
View2:col_5    1.321351e-03
View2:col_14  -4.402113e-03
View2:col_7   -6.639034e-04
View2:col_23  -4.683167e-03
View2:col_24   3.629822e-03
View3:col_2    1.108799e-02
View3:col_11  -4.141176e-05
View4:col_16  -5.760644e-04
View4:col_22   1.661771e-03
View4:col_26   2.492949e-02
View5:col_3    3.539407e-03
View5:col_9    2.301464e-02
View5:col_21  -3.991819e-03
View5:col_25   2.879402e-02
View5:col_20  -4.549918e-03
View6:col_120  9.518635e-04
View6:col_123  .           
View6:col_124 -1.216977e-02
View6:col_127 -5.682295e-04
View6:col_62   1.216469e-01
View6:col_81  -8.524972e-03
View6:col_172  5.603420e-02
View6:col_173  1.050638e-01
View6:col_174  1.196430e-01
View6:col_175  1.426151e-01</code></pre>
</div>
</div>
</section>
<section id="cooperative-learning-rho-0.7-performance-metrics" class="level4" data-number="0.0.6.2">
<h4 data-number="0.0.6.2" class="anchored" data-anchor-id="cooperative-learning-rho-0.7-performance-metrics"><span class="header-section-number">0.0.6.2</span> Cooperative Learning (<span class="math inline">\(\rho\)</span> = 0.7) Performance Metrics</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' #### Kpis</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(kpis, <span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 25%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Model</th>
<th style="text-align: right;">RMSE</th>
<th style="text-align: right;">AUC</th>
<th style="text-align: right;">Lift_5</th>
<th style="text-align: right;">Accuracy</th>
<th style="text-align: right;">Recall</th>
<th style="text-align: right;">Precision</th>
<th style="text-align: right;">Specificity</th>
<th style="text-align: right;">F1_Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CoopLearn_r0.7_g6_p30</td>
<td style="text-align: right;">0.288</td>
<td style="text-align: right;">0.801</td>
<td style="text-align: right;">6.212</td>
<td style="text-align: right;">0.871</td>
<td style="text-align: right;">0.591</td>
<td style="text-align: right;">0.384</td>
<td style="text-align: right;">0.901</td>
<td style="text-align: right;">0.466</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="cooperative-learning-with-penalty-parameter-rho-equal-to-1" class="level3" data-number="0.0.7">
<h3 data-number="0.0.7" class="anchored" data-anchor-id="cooperative-learning-with-penalty-parameter-rho-equal-to-1"><span class="header-section-number">0.0.7</span> 3.4.3 Cooperative Learning with penalty parameter (<span class="math inline">\(\rho\)</span>) equal to 1</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Create a folder for the model</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>rho        <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>n_groups   <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">unique</span>(groups<span class="sc">$</span>prefix))</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>n_vars     <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">table</span>(groups<span class="sc">$</span>prefix)) </span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>model_name <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"CoopLearn_"</span>, <span class="st">"r"</span>, rho, <span class="st">"_g"</span>, n_groups, <span class="st">"_p"</span>, n_vars, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="co">#' Create the folder, if it does not exist</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="fu">file.path</span>(models_path, model_name), <span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' Define the response</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>y      <span class="ot">&lt;-</span> df_train[, response]</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>y_test <span class="ot">&lt;-</span> df_test[, response]</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(<span class="fu">file.path</span>(models_path, model_name, <span class="st">"predictions.csv"</span>))) {</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit model</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>  start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>  fit_coop <span class="ot">=</span> <span class="fu">cv.multiview</span>(</span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(x1, x2, x3, x4, x5, x6), </span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>    y, </span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">family       =</span> <span class="fu">binomial</span>(), </span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">type.measure =</span> <span class="st">"deviance"</span>, </span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">nfolds       =</span> <span class="dv">3</span>,</span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho          =</span> rho,</span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">trace.it     =</span> <span class="cn">TRUE</span></span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a>  finish_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb49-30"><a href="#cb49-30" aria-hidden="true" tabindex="-1"></a>  coop_learning_time <span class="ot">&lt;-</span> <span class="fu">difftime</span>(finish_time, start_time, <span class="at">units =</span> <span class="st">"sec"</span>) </span>
<span id="cb49-31"><a href="#cb49-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-32"><a href="#cb49-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Lasso penalty parameter</span></span>
<span id="cb49-33"><a href="#cb49-33" aria-hidden="true" tabindex="-1"></a>  reg <span class="ot">&lt;-</span> fit_coop<span class="sc">$</span>lambda.min</span>
<span id="cb49-34"><a href="#cb49-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-35"><a href="#cb49-35" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Calculate predictions</span></span>
<span id="cb49-36"><a href="#cb49-36" aria-hidden="true" tabindex="-1"></a>  pred_multiview <span class="ot">&lt;-</span> <span class="fu">predict</span>(</span>
<span id="cb49-37"><a href="#cb49-37" aria-hidden="true" tabindex="-1"></a>    fit_coop, </span>
<span id="cb49-38"><a href="#cb49-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">newx =</span> <span class="fu">list</span>(test_x1, test_x2, test_x3, test_x4, test_x5, test_x6), </span>
<span id="cb49-39"><a href="#cb49-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">s =</span> reg, <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb49-40"><a href="#cb49-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb49-41"><a href="#cb49-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-42"><a href="#cb49-42" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Calculate the metrics</span></span>
<span id="cb49-43"><a href="#cb49-43" aria-hidden="true" tabindex="-1"></a>  performance_cl01 <span class="ot">&lt;-</span> <span class="fu">calculate_metrics</span>(</span>
<span id="cb49-44"><a href="#cb49-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">name   =</span> model_name,</span>
<span id="cb49-45"><a href="#cb49-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">y_real =</span> y_test, </span>
<span id="cb49-46"><a href="#cb49-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">y_prob =</span> <span class="fu">as.vector</span>(pred_multiview),</span>
<span id="cb49-47"><a href="#cb49-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">cutoff =</span> prop_df_train</span>
<span id="cb49-48"><a href="#cb49-48" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb49-49"><a href="#cb49-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-50"><a href="#cb49-50" aria-hidden="true" tabindex="-1"></a>  performance_models <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb49-51"><a href="#cb49-51" aria-hidden="true" tabindex="-1"></a>    performance_models, </span>
<span id="cb49-52"><a href="#cb49-52" aria-hidden="true" tabindex="-1"></a>    performance_cl01</span>
<span id="cb49-53"><a href="#cb49-53" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb49-54"><a href="#cb49-54" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-55"><a href="#cb49-55" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save the model object</span></span>
<span id="cb49-56"><a href="#cb49-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(fit_coop, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"model_object.rds"</span>))</span>
<span id="cb49-57"><a href="#cb49-57" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save execution time</span></span>
<span id="cb49-58"><a href="#cb49-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(coop_learning_time, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"execution_time.csv"</span>))</span>
<span id="cb49-59"><a href="#cb49-59" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save predictions</span></span>
<span id="cb49-60"><a href="#cb49-60" aria-hidden="true" tabindex="-1"></a>  df_to_kpis <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(y_test, pred_multiview)</span>
<span id="cb49-61"><a href="#cb49-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(df_to_kpis, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"predictions.csv"</span>))</span>
<span id="cb49-62"><a href="#cb49-62" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save kpis</span></span>
<span id="cb49-63"><a href="#cb49-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(performance_cl01, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"kpis.csv"</span>))</span>
<span id="cb49-64"><a href="#cb49-64" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb49-65"><a href="#cb49-65" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read risk, metrics, and importance</span></span>
<span id="cb49-66"><a href="#cb49-66" aria-hidden="true" tabindex="-1"></a>  dfPredictions        <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"predictions.csv"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb49-67"><a href="#cb49-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>X)</span>
<span id="cb49-68"><a href="#cb49-68" aria-hidden="true" tabindex="-1"></a>  kpis                 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"kpis.csv"</span>))[, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb49-69"><a href="#cb49-69" aria-hidden="true" tabindex="-1"></a>  fit_coop             <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"model_object.rds"</span>)) </span>
<span id="cb49-70"><a href="#cb49-70" aria-hidden="true" tabindex="-1"></a>  coop_learning_time   <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"execution_time.csv"</span>))[, <span class="dv">2</span>] </span>
<span id="cb49-71"><a href="#cb49-71" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-72"><a href="#cb49-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-73"><a href="#cb49-73" aria-hidden="true" tabindex="-1"></a>performance_models <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb49-74"><a href="#cb49-74" aria-hidden="true" tabindex="-1"></a>  performance_models, </span>
<span id="cb49-75"><a href="#cb49-75" aria-hidden="true" tabindex="-1"></a>  kpis</span>
<span id="cb49-76"><a href="#cb49-76" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-77"><a href="#cb49-77" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="cooperative-learning-rho-1-coefficients" class="level4" data-number="0.0.7.1">
<h4 data-number="0.0.7.1" class="anchored" data-anchor-id="cooperative-learning-rho-1-coefficients"><span class="header-section-number">0.0.7.1</span> Cooperative Learning (<span class="math inline">\(\rho\)</span> = 1) Coefficients</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' #### Adjusted coefficients</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(fit_coop, <span class="at">s =</span> <span class="st">"lambda.min"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>31 x 1 sparse Matrix of class "dgCMatrix"
                         s1
(Intercept)   -2.252792e+00
View1:col_11   1.462366e-02
View1:col_12  -1.927367e-02
View1:col_4    1.554493e-03
View1:col_15   5.662138e-03
View2:col_13   5.635841e-03
View2:col_5    8.103347e-04
View2:col_14  -3.030734e-03
View2:col_7   -4.125078e-04
View2:col_23  -3.321597e-03
View2:col_24   2.523802e-03
View3:col_2    7.939375e-03
View3:col_11   1.138378e-05
View4:col_16  -3.797012e-04
View4:col_22   1.211081e-03
View4:col_26   1.817631e-02
View5:col_3    2.488854e-03
View5:col_9    1.652470e-02
View5:col_21  -3.207081e-03
View5:col_25   2.100038e-02
View5:col_20  -3.485311e-03
View6:col_120  6.881043e-04
View6:col_123  .           
View6:col_124 -8.525049e-03
View6:col_127 -3.852118e-04
View6:col_62   8.774110e-02
View6:col_81  -5.978710e-03
View6:col_172  3.997117e-02
View6:col_173  7.629163e-02
View6:col_174  8.779214e-02
View6:col_175  1.042673e-01</code></pre>
</div>
</div>
</section>
<section id="cooperative-learning-rho-1-performance-metrics" class="level4" data-number="0.0.7.2">
<h4 data-number="0.0.7.2" class="anchored" data-anchor-id="cooperative-learning-rho-1-performance-metrics"><span class="header-section-number">0.0.7.2</span> Cooperative Learning (<span class="math inline">\(\rho\)</span> = 1) Performance Metrics</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' #### Kpis</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(kpis, <span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 23%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 8%">
<col style="width: 10%">
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Model</th>
<th style="text-align: right;">RMSE</th>
<th style="text-align: right;">AUC</th>
<th style="text-align: right;">Lift_5</th>
<th style="text-align: right;">Accuracy</th>
<th style="text-align: right;">Recall</th>
<th style="text-align: right;">Precision</th>
<th style="text-align: right;">Specificity</th>
<th style="text-align: right;">F1_Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CoopLearn_r1_g6_p30</td>
<td style="text-align: right;">0.289</td>
<td style="text-align: right;">0.801</td>
<td style="text-align: right;">6.124</td>
<td style="text-align: right;">0.871</td>
<td style="text-align: right;">0.591</td>
<td style="text-align: right;">0.383</td>
<td style="text-align: right;">0.9</td>
<td style="text-align: right;">0.465</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="cooperative-learning-with-penalty-parameter-rho-equal-to-2" class="level3" data-number="0.0.8">
<h3 data-number="0.0.8" class="anchored" data-anchor-id="cooperative-learning-with-penalty-parameter-rho-equal-to-2"><span class="header-section-number">0.0.8</span> 3.4.4 Cooperative Learning with penalty parameter (<span class="math inline">\(\rho\)</span>) equal to 2</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Create a folder for the model</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>rho        <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>n_groups   <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">unique</span>(groups<span class="sc">$</span>prefix))</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>n_vars     <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">table</span>(groups<span class="sc">$</span>prefix)) </span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>model_name <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"CoopLearn_"</span>, <span class="st">"r"</span>, rho, <span class="st">"_g"</span>, n_groups, <span class="st">"_p"</span>, n_vars, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="co">#' Create the folder, if it does not exist</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="fu">file.path</span>(models_path, model_name), <span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' Define the response</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>y      <span class="ot">&lt;-</span> df_train[, response]</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>y_test <span class="ot">&lt;-</span> df_test[, response]</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(<span class="fu">file.path</span>(models_path, model_name, <span class="st">"predictions.csv"</span>))) {</span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fit model</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>  start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>  fit_coop <span class="ot">=</span> <span class="fu">cv.multiview</span>(</span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(x1, x2, x3, x4, x5, x6), </span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>    y, </span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">family       =</span> <span class="fu">binomial</span>(), </span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">type.measure =</span> <span class="st">"deviance"</span>, </span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">nfolds       =</span> <span class="dv">3</span>,</span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho          =</span> rho,</span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">trace.it     =</span> <span class="cn">TRUE</span></span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>  finish_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>  coop_learning_time <span class="ot">&lt;-</span> <span class="fu">difftime</span>(finish_time, start_time, <span class="at">units =</span> <span class="st">"sec"</span>) </span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Lasso penalty parameter</span></span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>  reg <span class="ot">&lt;-</span> fit_coop<span class="sc">$</span>lambda.min</span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Calculate predictions</span></span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a>  pred_multiview <span class="ot">&lt;-</span> <span class="fu">predict</span>(</span>
<span id="cb53-37"><a href="#cb53-37" aria-hidden="true" tabindex="-1"></a>    fit_coop, </span>
<span id="cb53-38"><a href="#cb53-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">newx =</span> <span class="fu">list</span>(test_x1, test_x2, test_x3, test_x4, test_x5, test_x6), </span>
<span id="cb53-39"><a href="#cb53-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">s =</span> reg, <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb53-40"><a href="#cb53-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-41"><a href="#cb53-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb53-42"><a href="#cb53-42" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Calculate the metrics</span></span>
<span id="cb53-43"><a href="#cb53-43" aria-hidden="true" tabindex="-1"></a>  performance_cl01 <span class="ot">&lt;-</span> <span class="fu">calculate_metrics</span>(</span>
<span id="cb53-44"><a href="#cb53-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">name   =</span> model_name,</span>
<span id="cb53-45"><a href="#cb53-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">y_real =</span> y_test, </span>
<span id="cb53-46"><a href="#cb53-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">y_prob =</span> <span class="fu">as.vector</span>(pred_multiview),</span>
<span id="cb53-47"><a href="#cb53-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">cutoff =</span> prop_df_train</span>
<span id="cb53-48"><a href="#cb53-48" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-49"><a href="#cb53-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb53-50"><a href="#cb53-50" aria-hidden="true" tabindex="-1"></a>  performance_models <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb53-51"><a href="#cb53-51" aria-hidden="true" tabindex="-1"></a>    performance_models, </span>
<span id="cb53-52"><a href="#cb53-52" aria-hidden="true" tabindex="-1"></a>    performance_cl01</span>
<span id="cb53-53"><a href="#cb53-53" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-54"><a href="#cb53-54" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb53-55"><a href="#cb53-55" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save the model object</span></span>
<span id="cb53-56"><a href="#cb53-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(fit_coop, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"model_object.rds"</span>))</span>
<span id="cb53-57"><a href="#cb53-57" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save execution time</span></span>
<span id="cb53-58"><a href="#cb53-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(coop_learning_time, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"execution_time.csv"</span>))</span>
<span id="cb53-59"><a href="#cb53-59" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save predictions</span></span>
<span id="cb53-60"><a href="#cb53-60" aria-hidden="true" tabindex="-1"></a>  df_to_kpis <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(y_test, pred_multiview)</span>
<span id="cb53-61"><a href="#cb53-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(df_to_kpis, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"predictions.csv"</span>))</span>
<span id="cb53-62"><a href="#cb53-62" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Save kpis</span></span>
<span id="cb53-63"><a href="#cb53-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(performance_cl01, <span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"kpis.csv"</span>))</span>
<span id="cb53-64"><a href="#cb53-64" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb53-65"><a href="#cb53-65" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read risk, metrics, and importance</span></span>
<span id="cb53-66"><a href="#cb53-66" aria-hidden="true" tabindex="-1"></a>  dfPredictions        <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"predictions.csv"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb53-67"><a href="#cb53-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>X)</span>
<span id="cb53-68"><a href="#cb53-68" aria-hidden="true" tabindex="-1"></a>  kpis                 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"kpis.csv"</span>))[, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb53-69"><a href="#cb53-69" aria-hidden="true" tabindex="-1"></a>  fit_coop             <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"model_object.rds"</span>)) </span>
<span id="cb53-70"><a href="#cb53-70" aria-hidden="true" tabindex="-1"></a>  coop_learning_time   <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="fu">file.path</span>(models_path, model_name, <span class="st">"execution_time.csv"</span>))[, <span class="dv">2</span>] </span>
<span id="cb53-71"><a href="#cb53-71" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb53-72"><a href="#cb53-72" aria-hidden="true" tabindex="-1"></a>  performance_models <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb53-73"><a href="#cb53-73" aria-hidden="true" tabindex="-1"></a>    performance_models, </span>
<span id="cb53-74"><a href="#cb53-74" aria-hidden="true" tabindex="-1"></a>    kpis</span>
<span id="cb53-75"><a href="#cb53-75" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-76"><a href="#cb53-76" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="cooperative-learning-rho-2-coefficients" class="level4" data-number="0.0.8.1">
<h4 data-number="0.0.8.1" class="anchored" data-anchor-id="cooperative-learning-rho-2-coefficients"><span class="header-section-number">0.0.8.1</span> Cooperative Learning (<span class="math inline">\(\rho\)</span> = 2) Coefficients</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' #### Adjusted coefficients</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(fit_coop, <span class="at">s =</span> <span class="st">"lambda.min"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>31 x 1 sparse Matrix of class "dgCMatrix"
                         s1
(Intercept)   -2.245179e+00
View1:col_11   6.949668e-03
View1:col_12  -9.610113e-03
View1:col_4    1.144026e-03
View1:col_15   2.849138e-03
View2:col_13   2.942331e-03
View2:col_5    2.020613e-04
View2:col_14  -1.353407e-03
View2:col_7   -1.180449e-04
View2:col_23  -1.507196e-03
View2:col_24   1.021233e-03
View3:col_2    4.059896e-03
View3:col_11   3.391348e-05
View4:col_16  -1.722174e-04
View4:col_22   6.123331e-04
View4:col_26   9.496521e-03
View5:col_3    1.240979e-03
View5:col_9    8.455665e-03
View5:col_21  -1.739921e-03
View5:col_25   1.098892e-02
View5:col_20  -1.811612e-03
View6:col_120  3.520871e-04
View6:col_123  .           
View6:col_124 -4.102933e-03
View6:col_127 -1.599949e-04
View6:col_62   4.523002e-02
View6:col_81  -2.943216e-03
View6:col_172  2.038653e-02
View6:col_173  3.958623e-02
View6:col_174  4.601980e-02
View6:col_175  5.447843e-02</code></pre>
</div>
</div>
</section>
<section id="cooperative-learning-rho-2-performance-metrics" class="level4" data-number="0.0.8.2">
<h4 data-number="0.0.8.2" class="anchored" data-anchor-id="cooperative-learning-rho-2-performance-metrics"><span class="header-section-number">0.0.8.2</span> Cooperative Learning (<span class="math inline">\(\rho\)</span> = 2) Performance Metrics</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' #### Kpis</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(kpis, <span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 23%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 8%">
<col style="width: 10%">
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Model</th>
<th style="text-align: right;">RMSE</th>
<th style="text-align: right;">AUC</th>
<th style="text-align: right;">Lift_5</th>
<th style="text-align: right;">Accuracy</th>
<th style="text-align: right;">Recall</th>
<th style="text-align: right;">Precision</th>
<th style="text-align: right;">Specificity</th>
<th style="text-align: right;">F1_Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CoopLearn_r2_g6_p30</td>
<td style="text-align: right;">0.291</td>
<td style="text-align: right;">0.801</td>
<td style="text-align: right;">6.065</td>
<td style="text-align: right;">0.87</td>
<td style="text-align: right;">0.592</td>
<td style="text-align: right;">0.381</td>
<td style="text-align: right;">0.899</td>
<td style="text-align: right;">0.463</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="models-comparison" class="level1 unnumbered">
<h1 class="unnumbered">4. Models Comparison</h1>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(performance_models, <span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 27%">
<col style="width: 6%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 9%">
<col style="width: 7%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Model</th>
<th style="text-align: right;">RMSE</th>
<th style="text-align: right;">AUC</th>
<th style="text-align: right;">Lift_5</th>
<th style="text-align: right;">Accuracy</th>
<th style="text-align: right;">Recall</th>
<th style="text-align: right;">Precision</th>
<th style="text-align: right;">Specificity</th>
<th style="text-align: right;">F1_Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Log Reg</td>
<td style="text-align: right;">0.259</td>
<td style="text-align: right;">0.8061880</td>
<td style="text-align: right;">6.301</td>
<td style="text-align: right;">0.864</td>
<td style="text-align: right;">0.598</td>
<td style="text-align: right;">0.367</td>
<td style="text-align: right;">0.892</td>
<td style="text-align: right;">0.455</td>
</tr>
<tr class="even">
<td style="text-align: left;">Random Forest - ntree 500</td>
<td style="text-align: right;">0.262</td>
<td style="text-align: right;">0.7816235</td>
<td style="text-align: right;">6.124</td>
<td style="text-align: right;">0.862</td>
<td style="text-align: right;">0.586</td>
<td style="text-align: right;">0.360</td>
<td style="text-align: right;">0.891</td>
<td style="text-align: right;">0.446</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CoopLearn_r0.5_g6_p30</td>
<td style="text-align: right;">0.286</td>
<td style="text-align: right;">0.8006627</td>
<td style="text-align: right;">6.212</td>
<td style="text-align: right;">0.871</td>
<td style="text-align: right;">0.588</td>
<td style="text-align: right;">0.384</td>
<td style="text-align: right;">0.901</td>
<td style="text-align: right;">0.464</td>
</tr>
<tr class="even">
<td style="text-align: left;">CoopLearn_r0.7_g6_p30</td>
<td style="text-align: right;">0.288</td>
<td style="text-align: right;">0.8010624</td>
<td style="text-align: right;">6.212</td>
<td style="text-align: right;">0.871</td>
<td style="text-align: right;">0.591</td>
<td style="text-align: right;">0.384</td>
<td style="text-align: right;">0.901</td>
<td style="text-align: right;">0.466</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CoopLearn_r1_g6_p30</td>
<td style="text-align: right;">0.289</td>
<td style="text-align: right;">0.8005158</td>
<td style="text-align: right;">6.124</td>
<td style="text-align: right;">0.871</td>
<td style="text-align: right;">0.591</td>
<td style="text-align: right;">0.383</td>
<td style="text-align: right;">0.900</td>
<td style="text-align: right;">0.465</td>
</tr>
<tr class="even">
<td style="text-align: left;">CoopLearn_r2_g6_p30</td>
<td style="text-align: right;">0.291</td>
<td style="text-align: right;">0.8008139</td>
<td style="text-align: right;">6.065</td>
<td style="text-align: right;">0.870</td>
<td style="text-align: right;">0.592</td>
<td style="text-align: right;">0.381</td>
<td style="text-align: right;">0.899</td>
<td style="text-align: right;">0.463</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>